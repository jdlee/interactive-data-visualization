<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Interactive data visualization</title>
  <meta name="description" content="A book of ggplot examples">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Interactive data visualization" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/Minard_timeline_map.png" />
  <meta property="og:description" content="A book of ggplot examples" />
  <meta name="github-repo" content="jdlee/ggplot-examples" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Interactive data visualization" />
  
  <meta name="twitter:description" content="A book of ggplot examples" />
  <meta name="twitter:image" content="images/Minard_timeline_map.png" />

<meta name="author" content="John D. Lee">


<meta name="date" content="2018-10-28">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="Tables.html">
<link rel="next" href="Interaction.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding/datatables.js"></script>
<link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>
<link href="libs/nouislider/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider/jquery.nouislider.min.js"></script>
<link href="libs/selectize/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize/selectize.min.js"></script>
<script src="libs/d3/d3.min.js"></script>
<script src="libs/d3-lasso/d3-lasso.min.js"></script>
<link href="libs/ggiraphjs/styles.css" rel="stylesheet" />
<script src="libs/ggiraphjs/ggiraphjs.min.js"></script>
<script src="libs/girafe-binding/girafe.js"></script>
<script src="libs/plotly-binding/plotly.js"></script>
<script src="libs/typedarray/typedarray.min.js"></script>
<link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main/plotly-latest.min.js"></script>
<link href="libs/colourpicker/colourpicker.min.css" rel="stylesheet" />
<script src="libs/colourpicker/colourpicker.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Interactive Data Visualization in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-read-this-book"><i class="fa fa-check"></i>Why read this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#structure-of-the-book"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-information-and-conventions"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="Introduction.html"><a href="Introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction: Audiences, purposes, questions</a><ul>
<li class="chapter" data-level="1.1" data-path="Introduction.html"><a href="Introduction.html#seeing-meaning-rather-than-numbers"><i class="fa fa-check"></i><b>1.1</b> Seeing meaning rather than numbers</a></li>
<li class="chapter" data-level="1.2" data-path="Introduction.html"><a href="Introduction.html#seeing-more-than-summary-statistics"><i class="fa fa-check"></i><b>1.2</b> Seeing more than summary statistics</a></li>
<li class="chapter" data-level="1.3" data-path="Introduction.html"><a href="Introduction.html#purposes-and-audiences-of-visualizations"><i class="fa fa-check"></i><b>1.3</b> Purposes and audiences of visualizations</a></li>
<li class="chapter" data-level="1.4" data-path="Introduction.html"><a href="Introduction.html#what-question-to-answer"><i class="fa fa-check"></i><b>1.4</b> What question to answer?</a></li>
<li class="chapter" data-level="1.5" data-path="Introduction.html"><a href="Introduction.html#storytelling-with-graphics"><i class="fa fa-check"></i><b>1.5</b> Storytelling with graphics</a></li>
<li class="chapter" data-level="1.6" data-path="Introduction.html"><a href="Introduction.html#data-sources"><i class="fa fa-check"></i><b>1.6</b> Data sources</a></li>
<li class="chapter" data-level="1.7" data-path="Introduction.html"><a href="Introduction.html#grammar-of-data-manipulation"><i class="fa fa-check"></i><b>1.7</b> Grammar of data manipulation</a></li>
<li class="chapter" data-level="1.8" data-path="Introduction.html"><a href="Introduction.html#grammar-of-graphics"><i class="fa fa-check"></i><b>1.8</b> Grammar of graphics</a></li>
<li class="chapter" data-level="1.9" data-path="Introduction.html"><a href="Introduction.html#considering-cognitive-capabilities-in-graphic-design"><i class="fa fa-check"></i><b>1.9</b> Considering cognitive capabilities in graphic design</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Principles.html"><a href="Principles.html"><i class="fa fa-check"></i><b>2</b> Visualization types and principles</a><ul>
<li class="chapter" data-level="2.1" data-path="Principles.html"><a href="Principles.html#pairing-questions-and-graph-types"><i class="fa fa-check"></i><b>2.1</b> Pairing questions and graph types</a></li>
<li class="chapter" data-level="2.2" data-path="Principles.html"><a href="Principles.html#percpetual-processes-to-be-supported-comparison-detection-pattern-identification"><i class="fa fa-check"></i><b>2.2</b> Percpetual processes to be supported: Comparison, Detection, Pattern identification</a><ul>
<li class="chapter" data-level="2.2.1" data-path="Principles.html"><a href="Principles.html#reading-and-judging-values"><i class="fa fa-check"></i><b>2.2.1</b> Reading and judging values</a></li>
<li class="chapter" data-level="2.2.2" data-path="Principles.html"><a href="Principles.html#comparing-values"><i class="fa fa-check"></i><b>2.2.2</b> Comparing values</a></li>
<li class="chapter" data-level="2.2.3" data-path="Principles.html"><a href="Principles.html#detecting-and-selecting"><i class="fa fa-check"></i><b>2.2.3</b> Detecting and selecting</a></li>
<li class="chapter" data-level="2.2.4" data-path="Principles.html"><a href="Principles.html#identifying-groups-and-patterns"><i class="fa fa-check"></i><b>2.2.4</b> Identifying groups and patterns</a></li>
<li class="chapter" data-level="2.2.5" data-path="Principles.html"><a href="Principles.html#narrative-structure-and-sequence"><i class="fa fa-check"></i><b>2.2.5</b> Narrative structure and sequence</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="Principles.html"><a href="Principles.html#principles-from-general-to-specific"><i class="fa fa-check"></i><b>2.3</b> Principles from general to specific</a><ul>
<li class="chapter" data-level="2.3.1" data-path="Principles.html"><a href="Principles.html#identify-audience-story-and-key-relationships-few"><i class="fa fa-check"></i><b>2.3.1</b> Identify audience, story, and key relationships (Few)</a></li>
<li class="chapter" data-level="2.3.2" data-path="Principles.html"><a href="Principles.html#focus-attention-and-organize-reading"><i class="fa fa-check"></i><b>2.3.2</b> Focus attention and organize reading</a></li>
<li class="chapter" data-level="2.3.3" data-path="Principles.html"><a href="Principles.html#annotate-to-show-cause-and-explain-why"><i class="fa fa-check"></i><b>2.3.3</b> Annotate to show cause and explain why</a></li>
<li class="chapter" data-level="2.3.4" data-path="Principles.html"><a href="Principles.html#concrete-details-engage-and-are-memorable"><i class="fa fa-check"></i><b>2.3.4</b> Concrete details engage and are memorable</a></li>
<li class="chapter" data-level="2.3.5" data-path="Principles.html"><a href="Principles.html#enable-comparisons-and-put-data-in-context"><i class="fa fa-check"></i><b>2.3.5</b> Enable comparisons and put data in context</a></li>
<li class="chapter" data-level="2.3.6" data-path="Principles.html"><a href="Principles.html#map-types-of-variables-to-graph-features"><i class="fa fa-check"></i><b>2.3.6</b> Map types of variables to graph features</a></li>
<li class="chapter" data-level="2.3.7" data-path="Principles.html"><a href="Principles.html#ensure-proximity-compatibility"><i class="fa fa-check"></i><b>2.3.7</b> Ensure proximity compatibility</a></li>
<li class="chapter" data-level="2.3.8" data-path="Principles.html"><a href="Principles.html#legibility-and-consistency"><i class="fa fa-check"></i><b>2.3.8</b> Legibility and consistency</a></li>
<li class="chapter" data-level="2.3.9" data-path="Principles.html"><a href="Principles.html#maximize-dataink-ratio"><i class="fa fa-check"></i><b>2.3.9</b> Maximize data/ink ratio</a></li>
<li class="chapter" data-level="2.3.10" data-path="Principles.html"><a href="Principles.html#manage-clutter-with-grouping-and-layering"><i class="fa fa-check"></i><b>2.3.10</b> Manage clutter with grouping and layering</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="Principles.html"><a href="Principles.html#overview-of-examples"><i class="fa fa-check"></i><b>2.4</b> Overview of examples</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Association.html"><a href="Association.html"><i class="fa fa-check"></i><b>3</b> Association–scatterplots</a><ul>
<li class="chapter" data-level="3.1" data-path="Association.html"><a href="Association.html#basic-elements-of-the-grammar-of-graphics"><i class="fa fa-check"></i><b>3.1</b> Basic elements of the grammar of graphics</a></li>
<li class="chapter" data-level="3.2" data-path="Association.html"><a href="Association.html#simple-scatterplot"><i class="fa fa-check"></i><b>3.2</b> Simple scatterplot</a></li>
<li class="chapter" data-level="3.3" data-path="Association.html"><a href="Association.html#scatterplot-with-additional-mappings"><i class="fa fa-check"></i><b>3.3</b> Scatterplot with additional mappings</a></li>
<li class="chapter" data-level="3.4" data-path="Association.html"><a href="Association.html#scatterplot-with-linear-and-loess-fit"><i class="fa fa-check"></i><b>3.4</b> Scatterplot with linear and loess fit</a></li>
<li class="chapter" data-level="3.5" data-path="Association.html"><a href="Association.html#global-and-local-regression"><i class="fa fa-check"></i><b>3.5</b> Global and local regression</a></li>
<li class="chapter" data-level="3.6" data-path="Association.html"><a href="Association.html#quantile-regression-and-other-functional-relationships"><i class="fa fa-check"></i><b>3.6</b> Quantile regression and other functional relationships</a></li>
<li class="chapter" data-level="3.7" data-path="Association.html"><a href="Association.html#scatterplot-with-regression-equation-and-marginal-distributions"><i class="fa fa-check"></i><b>3.7</b> Scatterplot with regression equation and marginal distributions</a></li>
<li class="chapter" data-level="3.8" data-path="Association.html"><a href="Association.html#categorical-scatterplot"><i class="fa fa-check"></i><b>3.8</b> Categorical scatterplot</a></li>
<li class="chapter" data-level="3.9" data-path="Association.html"><a href="Association.html#table-lens"><i class="fa fa-check"></i><b>3.9</b> Table lens</a></li>
<li class="chapter" data-level="3.10" data-path="Association.html"><a href="Association.html#scatterplot-with-overplotting-mitigation"><i class="fa fa-check"></i><b>3.10</b> Scatterplot with overplotting mitigation</a></li>
<li class="chapter" data-level="3.11" data-path="Association.html"><a href="Association.html#a-matrix-of-scatterplots"><i class="fa fa-check"></i><b>3.11</b> A matrix of scatterplots</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Distribution.html"><a href="Distribution.html"><i class="fa fa-check"></i><b>4</b> Distribution–histograms and density plots</a><ul>
<li class="chapter" data-level="4.1" data-path="Distribution.html"><a href="Distribution.html#histograms-and-bin-choice"><i class="fa fa-check"></i><b>4.1</b> Histograms and bin choice</a></li>
<li class="chapter" data-level="4.2" data-path="Distribution.html"><a href="Distribution.html#density-and-kernel-adjustment"><i class="fa fa-check"></i><b>4.2</b> Density and kernel adjustment</a></li>
<li class="chapter" data-level="4.3" data-path="Distribution.html"><a href="Distribution.html#histogram-percentage-rather-than-count"><i class="fa fa-check"></i><b>4.3</b> Histogram percentage rather than count</a></li>
<li class="chapter" data-level="4.4" data-path="Distribution.html"><a href="Distribution.html#histogram-density-overlay-and-normal-overlay"><i class="fa fa-check"></i><b>4.4</b> Histogram, density overlay, and normal overlay</a></li>
<li class="chapter" data-level="4.5" data-path="Distribution.html"><a href="Distribution.html#cummulative-density"><i class="fa fa-check"></i><b>4.5</b> Cummulative density</a></li>
<li class="chapter" data-level="4.6" data-path="Distribution.html"><a href="Distribution.html#quantile-quantle-plot"><i class="fa fa-check"></i><b>4.6</b> Quantile-quantle plot</a></li>
<li class="chapter" data-level="4.7" data-path="Distribution.html"><a href="Distribution.html#cummulative-density-1"><i class="fa fa-check"></i><b>4.7</b> Cummulative density</a></li>
<li class="chapter" data-level="4.8" data-path="Distribution.html"><a href="Distribution.html#distribution-2-d-distribution-and-overplotting-revisited"><i class="fa fa-check"></i><b>4.8</b> Distribution: 2-D distribution and overplotting revisited</a></li>
<li class="chapter" data-level="4.9" data-path="Distribution.html"><a href="Distribution.html#tufte-smallmultiples"><i class="fa fa-check"></i><b>4.9</b> Small multiple histogram with density and median reference lines</a></li>
<li class="chapter" data-level="4.10" data-path="Distribution.html"><a href="Distribution.html#ridge-plotan-array-of-density-plots"><i class="fa fa-check"></i><b>4.10</b> Ridge plot–An array of density plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="Comparison.html"><a href="Comparison.html"><i class="fa fa-check"></i><b>5</b> Comparison–barchart, boxplots, synaplots</a><ul>
<li class="chapter" data-level="5.1" data-path="Comparison.html"><a href="Comparison.html#graph-considerations-for-communication-aggregation-abstraction-complexity"><i class="fa fa-check"></i><b>5.1</b> Graph considerations for communication: aggregation, abstraction, complexity</a><ul>
<li class="chapter" data-level="5.1.1" data-path="Comparison.html"><a href="Comparison.html#simple-bar-chart"><i class="fa fa-check"></i><b>5.1.1</b> Simple bar chart</a></li>
<li class="chapter" data-level="5.1.2" data-path="Comparison.html"><a href="Comparison.html#bar-chart-with-error-bars"><i class="fa fa-check"></i><b>5.1.2</b> Bar chart with error bars</a></li>
<li class="chapter" data-level="5.1.3" data-path="Comparison.html"><a href="Comparison.html#dotplot-and-offset-range-plot"><i class="fa fa-check"></i><b>5.1.3</b> dotplot and offset range plot</a></li>
<li class="chapter" data-level="5.1.4" data-path="Comparison.html"><a href="Comparison.html#statistical-significance-in-context"><i class="fa fa-check"></i><b>5.1.4</b> Statistical significance in context</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="Comparison.html"><a href="Comparison.html#comparing-distributions-box-violyn-and-sina-plot"><i class="fa fa-check"></i><b>5.2</b> Comparing distributions, box, violyn, and sina plot</a><ul>
<li class="chapter" data-level="5.2.1" data-path="Comparison.html"><a href="Comparison.html#compare-empirical-and-theoretical-distribution"><i class="fa fa-check"></i><b>5.2.1</b> Compare empirical and theoretical distribution</a></li>
<li class="chapter" data-level="5.2.2" data-path="Comparison.html"><a href="Comparison.html#tufte-inspired-minimal-bar-chart"><i class="fa fa-check"></i><b>5.2.2</b> Tufte-inspired minimal bar chart</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="Comparison.html"><a href="Comparison.html#comparing-across-many-variables"><i class="fa fa-check"></i><b>5.3</b> Comparing across many variables</a><ul>
<li class="chapter" data-level="5.3.1" data-path="Comparison.html"><a href="Comparison.html#dot-plots-and-reordering"><i class="fa fa-check"></i><b>5.3.1</b> Dot plots and reordering</a></li>
<li class="chapter" data-level="5.3.2" data-path="Comparison.html"><a href="Comparison.html#point-range-on-x-and-y"><i class="fa fa-check"></i><b>5.3.2</b> Point range on x and y</a></li>
<li class="chapter" data-level="5.3.3" data-path="Comparison.html"><a href="Comparison.html#tufte-boxplot-for-many-variables"><i class="fa fa-check"></i><b>5.3.3</b> Tufte boxplot for many variables</a></li>
<li class="chapter" data-level="5.3.4" data-path="Comparison.html"><a href="Comparison.html#tufte-slopegraph"><i class="fa fa-check"></i><b>5.3.4</b> Tufte-inspired slope graphs</a></li>
<li class="chapter" data-level="5.3.5" data-path="Comparison.html"><a href="Comparison.html#parallel-coordinate-plot-with-similar-items-highlighted"><i class="fa fa-check"></i><b>5.3.5</b> Parallel coordinate plot with similar items highlighted</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="Comparison.html"><a href="Comparison.html#gliphs-chernof-face-and-radar-plots"><i class="fa fa-check"></i><b>5.4</b> Gliphs: Chernof face and radar plots</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Proportion.html"><a href="Proportion.html"><i class="fa fa-check"></i><b>6</b> Proportion–Pie charts and pareto plots</a><ul>
<li class="chapter" data-level="6.1" data-path="Proportion.html"><a href="Proportion.html#pie-and-bar-chart"><i class="fa fa-check"></i><b>6.1</b> Pie and bar chart</a></li>
<li class="chapter" data-level="6.2" data-path="Proportion.html"><a href="Proportion.html#waffle-plot"><i class="fa fa-check"></i><b>6.2</b> Waffle plot</a></li>
<li class="chapter" data-level="6.3" data-path="Proportion.html"><a href="Proportion.html#pareto-plot-whole-part-and-and-ranking"><i class="fa fa-check"></i><b>6.3</b> Pareto plot: Whole part and and ranking</a></li>
<li class="chapter" data-level="6.4" data-path="Proportion.html"><a href="Proportion.html#stacked-bar-chart"><i class="fa fa-check"></i><b>6.4</b> Stacked bar chart</a></li>
<li class="chapter" data-level="6.5" data-path="Proportion.html"><a href="Proportion.html#faceted-bar-chart-with-overall-reference-distribution"><i class="fa fa-check"></i><b>6.5</b> Faceted Bar chart with overall reference distribution</a></li>
<li class="chapter" data-level="6.6" data-path="Proportion.html"><a href="Proportion.html#rose-or-coxcomb-plots"><i class="fa fa-check"></i><b>6.6</b> Rose or Coxcomb plots</a></li>
<li class="chapter" data-level="6.7" data-path="Proportion.html"><a href="Proportion.html#stacked-dodged-and-opposed-bar-chart"><i class="fa fa-check"></i><b>6.7</b> Stacked, dodged, and opposed bar chart</a></li>
<li class="chapter" data-level="6.8" data-path="Proportion.html"><a href="Proportion.html#likert-scale-plot"><i class="fa fa-check"></i><b>6.8</b> Likert scale plot</a></li>
<li class="chapter" data-level="6.9" data-path="Proportion.html"><a href="Proportion.html#ternary-triangular-graph"><i class="fa fa-check"></i><b>6.9</b> ternary (triangular) graph</a></li>
<li class="chapter" data-level="6.10" data-path="Proportion.html"><a href="Proportion.html#treemaps-for-whole-part-of-hierarchy"><i class="fa fa-check"></i><b>6.10</b> Treemaps for whole-part of hierarchy</a></li>
<li class="chapter" data-level="6.11" data-path="Proportion.html"><a href="Proportion.html#circle-packing"><i class="fa fa-check"></i><b>6.11</b> Circle packing</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Fluctuation.html"><a href="Fluctuation.html"><i class="fa fa-check"></i><b>7</b> Fluctuation–timelines</a><ul>
<li class="chapter" data-level="7.1" data-path="Fluctuation.html"><a href="Fluctuation.html#multiple-time-series"><i class="fa fa-check"></i><b>7.1</b> Multiple time series</a></li>
<li class="chapter" data-level="7.2" data-path="Fluctuation.html"><a href="Fluctuation.html#time-series-with-reference-line"><i class="fa fa-check"></i><b>7.2</b> Time series with reference line</a></li>
<li class="chapter" data-level="7.3" data-path="Fluctuation.html"><a href="Fluctuation.html#cycle-plot"><i class="fa fa-check"></i><b>7.3</b> Cycle plot</a></li>
<li class="chapter" data-level="7.4" data-path="Fluctuation.html"><a href="Fluctuation.html#connected-scatterplot"><i class="fa fa-check"></i><b>7.4</b> Connected scatterplot</a></li>
<li class="chapter" data-level="7.5" data-path="Fluctuation.html"><a href="Fluctuation.html#step-graph"><i class="fa fa-check"></i><b>7.5</b> Step graph</a></li>
<li class="chapter" data-level="7.6" data-path="Fluctuation.html"><a href="Fluctuation.html#faceted-zoom"><i class="fa fa-check"></i><b>7.6</b> Faceted zoom</a></li>
<li class="chapter" data-level="7.7" data-path="Fluctuation.html"><a href="Fluctuation.html#ridge-plot"><i class="fa fa-check"></i><b>7.7</b> Ridge plot</a></li>
<li class="chapter" data-level="7.8" data-path="Fluctuation.html"><a href="Fluctuation.html#stacked-area-and-line-graphs"><i class="fa fa-check"></i><b>7.8</b> Stacked area and line graphs</a></li>
<li class="chapter" data-level="7.9" data-path="Fluctuation.html"><a href="Fluctuation.html#temporal-heatmap"><i class="fa fa-check"></i><b>7.9</b> Temporal heatmap</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Connection.html"><a href="Connection.html"><i class="fa fa-check"></i><b>8</b> Connection–maps and network plots</a><ul>
<li class="chapter" data-level="8.1" data-path="Connection.html"><a href="Connection.html#maps"><i class="fa fa-check"></i><b>8.1</b> Maps</a><ul>
<li class="chapter" data-level="8.1.1" data-path="Connection.html"><a href="Connection.html#choropleth"><i class="fa fa-check"></i><b>8.1.1</b> Choropleth</a></li>
<li class="chapter" data-level="8.1.2" data-path="Connection.html"><a href="Connection.html#county-map"><i class="fa fa-check"></i><b>8.1.2</b> County map</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="Connection.html"><a href="Connection.html#us-county-small-multiples"><i class="fa fa-check"></i><b>8.2</b> US county small multiples</a></li>
<li class="chapter" data-level="8.3" data-path="Connection.html"><a href="Connection.html#world-migration"><i class="fa fa-check"></i><b>8.3</b> World migration</a></li>
<li class="chapter" data-level="8.4" data-path="Connection.html"><a href="Connection.html#networks"><i class="fa fa-check"></i><b>8.4</b> Networks</a><ul>
<li class="chapter" data-level="8.4.1" data-path="Connection.html"><a href="Connection.html#world-migration-network"><i class="fa fa-check"></i><b>8.4.1</b> World migration network</a></li>
<li class="chapter" data-level="8.4.2" data-path="Connection.html"><a href="Connection.html#hierarchy"><i class="fa fa-check"></i><b>8.4.2</b> Hierarchy</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="Tables.html"><a href="Tables.html"><i class="fa fa-check"></i><b>9</b> Graphical tables–interactive tables, highlights, and sparklines</a><ul>
<li class="chapter" data-level="9.1" data-path="Tables.html"><a href="Tables.html#heatmap-table"><i class="fa fa-check"></i><b>9.1</b> Heatmap table</a></li>
<li class="chapter" data-level="9.2" data-path="Tables.html"><a href="Tables.html#table-lens-with-a-integrated-bar"><i class="fa fa-check"></i><b>9.2</b> Table lens with a integrated bar</a></li>
<li class="chapter" data-level="9.3" data-path="Tables.html"><a href="Tables.html#sparkline"><i class="fa fa-check"></i><b>9.3</b> Sparkline</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Polishing.html"><a href="Polishing.html"><i class="fa fa-check"></i><b>10</b> Highlighting, annotating, and polishing graphs</a><ul>
<li class="chapter" data-level="10.1" data-path="Polishing.html"><a href="Polishing.html#highlighting-datapoints-to-make-a-point"><i class="fa fa-check"></i><b>10.1</b> Highlighting datapoints to make a point</a></li>
<li class="chapter" data-level="10.2" data-path="Polishing.html"><a href="Polishing.html#labeling-and-annotation"><i class="fa fa-check"></i><b>10.2</b> Labeling and annotation</a><ul>
<li class="chapter" data-level="10.2.1" data-path="Polishing.html"><a href="Polishing.html#annotating-data"><i class="fa fa-check"></i><b>10.2.1</b> Annotating data</a></li>
<li class="chapter" data-level="10.2.2" data-path="Polishing.html"><a href="Polishing.html#time-series-with-lines-labeled"><i class="fa fa-check"></i><b>10.2.2</b> Time series with lines labeled</a></li>
<li class="chapter" data-level="10.2.3" data-path="Polishing.html"><a href="Polishing.html#labelling-lines-bars-points-and-select-points"><i class="fa fa-check"></i><b>10.2.3</b> Labelling lines, bars, points, and select points</a></li>
<li class="chapter" data-level="10.2.4" data-path="Polishing.html"><a href="Polishing.html#meaningful-symbols"><i class="fa fa-check"></i><b>10.2.4</b> Meaningful symbols</a></li>
<li class="chapter" data-level="10.2.5" data-path="Polishing.html"><a href="Polishing.html#annotating-with-an-inset-plot"><i class="fa fa-check"></i><b>10.2.5</b> Annotating with an inset plot</a></li>
<li class="chapter" data-level="10.2.6" data-path="Polishing.html"><a href="Polishing.html#labels-on-lines"><i class="fa fa-check"></i><b>10.2.6</b> Labels on lines</a></li>
<li class="chapter" data-level="10.2.7" data-path="Polishing.html"><a href="Polishing.html#AddingRemovingLabels"><i class="fa fa-check"></i><b>10.2.7</b> Adding and removing labels: title, axis labels, and facet labels</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="Polishing.html"><a href="Polishing.html#position-legend"><i class="fa fa-check"></i><b>10.3</b> Position legend</a><ul>
<li class="chapter" data-level="10.3.1" data-path="Polishing.html"><a href="Polishing.html#remove-one-or-more-legends"><i class="fa fa-check"></i><b>10.3.1</b> Remove one or more legends</a></li>
<li class="chapter" data-level="10.3.2" data-path="Polishing.html"><a href="Polishing.html#setting-limits-on-axis-and-position-of-graph"><i class="fa fa-check"></i><b>10.3.2</b> Setting limits on axis and position of graph</a></li>
<li class="chapter" data-level="10.3.3" data-path="Polishing.html"><a href="Polishing.html#adjust-margin-between-points-and-edge-of-plot-area"><i class="fa fa-check"></i><b>10.3.3</b> Adjust margin between points and edge of plot area</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="Polishing.html"><a href="Polishing.html#color"><i class="fa fa-check"></i><b>10.4</b> Color</a><ul>
<li class="chapter" data-level="10.4.1" data-path="Polishing.html"><a href="Polishing.html#resources-to-explain-the-basis-form-color-choice"><i class="fa fa-check"></i><b>10.4.1</b> Resources to explain the basis form color choice</a></li>
<li class="chapter" data-level="10.4.2" data-path="Polishing.html"><a href="Polishing.html#large-and-small-area-colors"><i class="fa fa-check"></i><b>10.4.2</b> Large and small area colors</a></li>
<li class="chapter" data-level="10.4.3" data-path="Polishing.html"><a href="Polishing.html#color-for-large-and-small-areas"><i class="fa fa-check"></i><b>10.4.3</b> Color for large and small areas</a></li>
<li class="chapter" data-level="10.4.4" data-path="Polishing.html"><a href="Polishing.html#continuous-color-scales"><i class="fa fa-check"></i><b>10.4.4</b> Continuous color scales</a></li>
<li class="chapter" data-level="10.4.5" data-path="Polishing.html"><a href="Polishing.html#discrete-color-mappings"><i class="fa fa-check"></i><b>10.4.5</b> Discrete color mappings</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="Polishing.html"><a href="Polishing.html#themes-and-theme-options"><i class="fa fa-check"></i><b>10.5</b> Themes and theme options</a><ul>
<li class="chapter" data-level="10.5.1" data-path="Polishing.html"><a href="Polishing.html#remove-chart-details"><i class="fa fa-check"></i><b>10.5.1</b> Remove chart details</a></li>
<li class="chapter" data-level="10.5.2" data-path="Polishing.html"><a href="Polishing.html#predefined-themes-adjust-many-elements"><i class="fa fa-check"></i><b>10.5.2</b> Predefined themes adjust many elements</a></li>
<li class="chapter" data-level="10.5.3" data-path="Polishing.html"><a href="Polishing.html#ordering-theme-layers"><i class="fa fa-check"></i><b>10.5.3</b> Ordering theme layers</a></li>
<li class="chapter" data-level="10.5.4" data-path="Polishing.html"><a href="Polishing.html#pre-set-theme-options"><i class="fa fa-check"></i><b>10.5.4</b> Pre-set theme options</a></li>
<li class="chapter" data-level="10.5.5" data-path="Polishing.html"><a href="Polishing.html#themes-form-other-packages"><i class="fa fa-check"></i><b>10.5.5</b> Themes form other packages</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="Polishing.html"><a href="Polishing.html#saving-and-printing-plots-to-include-in-documents"><i class="fa fa-check"></i><b>10.6</b> Saving and printing plots to include in documents</a><ul>
<li class="chapter" data-level="10.6.1" data-path="Polishing.html"><a href="Polishing.html#png-jpeg-pdf-and-svg"><i class="fa fa-check"></i><b>10.6.1</b> PNG, JPEG, PDF, and SVG</a></li>
<li class="chapter" data-level="10.6.2" data-path="Polishing.html"><a href="Polishing.html#combining-multiple-graphs-for-publication"><i class="fa fa-check"></i><b>10.6.2</b> Combining multiple graphs for publication</a></li>
<li class="chapter" data-level="10.6.3" data-path="Polishing.html"><a href="Polishing.html#faceted-pagination"><i class="fa fa-check"></i><b>10.6.3</b> Faceted pagination</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="Interaction.html"><a href="Interaction.html"><i class="fa fa-check"></i><b>11</b> Interaction–annotate, highlight, link, and animate</a><ul>
<li class="chapter" data-level="11.1" data-path="Interaction.html"><a href="Interaction.html#ggiraph-simple-annotation"><i class="fa fa-check"></i><b>11.1</b> ggiraph: Simple annotation</a></li>
<li class="chapter" data-level="11.2" data-path="Interaction.html"><a href="Interaction.html#ggiraph-multi-plot-linking-with-highlighting-and-annotation"><i class="fa fa-check"></i><b>11.2</b> ggiraph: Multi-plot linking with highlighting and annotation</a></li>
<li class="chapter" data-level="11.3" data-path="Interaction.html"><a href="Interaction.html#plotly-annotation"><i class="fa fa-check"></i><b>11.3</b> plotly: annotation</a></li>
<li class="chapter" data-level="11.4" data-path="Interaction.html"><a href="Interaction.html#plotly-map-annotation"><i class="fa fa-check"></i><b>11.4</b> ## plotly: Map annotation</a></li>
<li class="chapter" data-level="11.5" data-path="Interaction.html"><a href="Interaction.html#plotly-highlight-time-series-across-graphs"><i class="fa fa-check"></i><b>11.5</b> plotly: Highlight time series across graphs</a></li>
<li class="chapter" data-level="11.6" data-path="Interaction.html"><a href="Interaction.html#highlight-and-annotate-data-and-fit"><i class="fa fa-check"></i><b>11.6</b> Highlight and annotate data and fit</a></li>
<li class="chapter" data-level="11.7" data-path="Interaction.html"><a href="Interaction.html#time-series-scatterplot-animation"><i class="fa fa-check"></i><b>11.7</b> Time series scatterplot animation</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="shinyadvanced-interactive-graphics.html"><a href="shinyadvanced-interactive-graphics.html"><i class="fa fa-check"></i><b>12</b> Shiny–Advanced interactive graphics</a></li>
<li class="appendix"><span><b>Appendix</b></span><ul>
<li class="chapter" data-level="A.1" data-path="10-polishing.html"><a href="#data-sources-1"><i class="fa fa-check"></i><b>A.1</b> Data sources</a></li>
<li class="chapter" data-level="A.2" data-path="shinyadvanced-interactive-graphics.html"><a href="shinyadvanced-interactive-graphics.html#visualization-resources"><i class="fa fa-check"></i><b>A.2</b> Visualization resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Interactive data visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Polishing" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> Highlighting, annotating, and polishing graphs</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(ggrepel)
<span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())

mtcars.df =<span class="st"> </span>mtcars</code></pre></div>
<p>All graphs should have axis labels with units Legends should have titles Titles are often included in the figure caption and not the graph Annotations can label points and tell a story Annotations can label lines better than legends</p>
<p>Labels and annotations added as another layer</p>
<p>Create a plot Add axis labels, with units Annotate to tell a story Select and appropriate color palette Place the legend inside the graph Change the theme to increase the data to ink ratio Check that changing the theme did not undo your legend placement Save as a 5X5 inch image in a format to minimize blur</p>
<div id="highlighting-datapoints-to-make-a-point" class="section level2">
<h2><span class="header-section-number">10.1</span> Highlighting datapoints to make a point</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">h.mtcars.df =<span class="st"> </span>mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">highlight =</span> <span class="kw">if_else</span>(cyl<span class="op">==</span><span class="dv">8</span>, <span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>))
<span class="kw">ggplot</span>(h.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">as.factor</span>(cyl), <span class="dt">fill =</span> highlight)) <span class="op">+</span>
<span class="st">    </span><span class="kw">geom_bar</span>(<span class="dt">alpha =</span> .<span class="dv">6</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;yes&quot;</span>=<span class="st">&quot;darkred&quot;</span>, <span class="st">&quot;no&quot;</span>=<span class="st">&quot;gray15&quot;</span>), <span class="dt">guide =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">h.mtcars.df =<span class="st"> </span>mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">highlight =</span> <span class="kw">if_else</span>(mpg<span class="op">&gt;</span><span class="dv">24</span> <span class="op">&amp;</span>wt<span class="op">&gt;</span><span class="dv">3</span>, <span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>))
<span class="kw">ggplot</span>(h.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> wt, <span class="dt">y =</span> mpg, <span class="dt">colour =</span> highlight)) <span class="op">+</span>
<span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;yes&quot;</span>=<span class="st">&quot;darkred&quot;</span>, <span class="st">&quot;no&quot;</span>=<span class="st">&quot;gray60&quot;</span>), <span class="dt">guide =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-25-2.png" width="672" /></p>
</div>
<div id="labeling-and-annotation" class="section level2">
<h2><span class="header-section-number">10.2</span> Labeling and annotation</h2>
<div id="annotating-data" class="section level3">
<h3><span class="header-section-number">10.2.1</span> Annotating data</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Text and rectangle annotation 
<span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">annotate</span>(<span class="dt">geom =</span> <span class="st">&quot;rect&quot;</span>, <span class="dt">ymin =</span> <span class="dv">20</span>, <span class="dt">ymax =</span> <span class="dv">35</span>, <span class="dt">xmin =</span> <span class="dv">65</span>, <span class="dt">xmax =</span> <span class="dv">155</span>, <span class="dt">fill =</span> <span class="st">&quot;grey65&quot;</span>, <span class="dt">alpha =</span> .<span class="dv">5</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">annotate</span>(<span class="dt">geom =</span> <span class="st">&quot;text&quot;</span>, <span class="dt">x =</span> <span class="dv">115</span>, <span class="dt">y =</span> <span class="dv">36</span>, <span class="dt">label =</span> <span class="st">&quot;High-power cars&quot;</span> ) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Displacement (cubic inches)&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Efficiency (mile per gallon)&quot;</span>, 
       <span class="dt">title =</span> <span class="st">&quot;Efficiency and engine size&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;Number of cylinders&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/annotation-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Encircle pooints
<span class="kw">library</span>(ggalt)

 <span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg))<span class="op">+</span>
<span class="st">    </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">    </span><span class="kw">geom_encircle</span>(<span class="dt">data=</span><span class="kw">filter</span>(mtcars, mpg<span class="op">&gt;</span><span class="dv">24</span>),
                   <span class="dt">s_shape=</span><span class="fl">0.75</span>, <span class="dt">expand=</span><span class="fl">0.05</span>) <span class="op">+</span>
<span class="st">   </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;ggalt: encircle annotation&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/annotation-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Regresion equation
<span class="kw">library</span>(ggpmisc) <span class="co"># For stat_poly_eq for equation annotation  </span>
<span class="co"># https://cran.r-project.org/web/packages/ggpmisc/vignettes/user-guide-1.html</span>

formula &lt;-<span class="st"> </span>y <span class="op">~</span><span class="st"> </span><span class="kw">poly</span>(x, <span class="dt">degree =</span> <span class="dv">1</span>, <span class="dt">raw =</span> <span class="ot">TRUE</span>)

<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x=</span>disp, <span class="dt">y=</span>mpg)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">formula =</span> formula) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_poly_eq</span>(<span class="kw">aes</span>(<span class="dt">label =</span>  <span class="kw">paste</span>(..eq.label.., ..adj.rr.label.., <span class="dt">sep =</span> <span class="st">&quot;~~~~&quot;</span>)),
                   <span class="dt">formula =</span> formula, <span class="dt">parse =</span> <span class="ot">TRUE</span>, <span class="dt">coef.digits =</span> <span class="dv">2</span>, 
                   <span class="dt">label.x =</span> <span class="dv">200</span>, <span class="dt">label.y =</span> <span class="dv">30</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/annotation-3.png" width="672" /></p>
</div>
<div id="time-series-with-lines-labeled" class="section level3">
<h3><span class="header-section-number">10.2.2</span> Time series with lines labeled</h3>
<p>Based on example from: <a href="https://cran.r-project.org/web/packages/ggrepel/vignettes/ggrepel.html" class="uri">https://cran.r-project.org/web/packages/ggrepel/vignettes/ggrepel.html</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggrepel)</code></pre></div>
</div>
<div id="labelling-lines-bars-points-and-select-points" class="section level3">
<h3><span class="header-section-number">10.2.3</span> Labelling lines, bars, points, and select points</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggrepel)

mtcars.df =<span class="st"> </span>mtcars
mtcars.df<span class="op">$</span>name =<span class="st"> </span><span class="kw">row.names</span>(mtcars.df)


## Lines with labels rather than legend
<span class="kw">ggplot</span>(Orange, <span class="kw">aes</span>(age, circumference, <span class="dt">color =</span> Tree)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data =</span> <span class="kw">filter</span>(Orange, age <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(age)),
    <span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw">paste</span>(<span class="st">&quot;Tree&quot;</span>, Tree)),
    <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">nudge_x =</span> <span class="dv">45</span>, <span class="dt">segment.color =</span> <span class="ot">NA</span>
  ) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="kw">min</span>(Orange<span class="op">$</span>age), <span class="kw">max</span>(Orange<span class="op">$</span>age) <span class="op">+</span><span class="st"> </span><span class="dv">90</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Age (days)&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Circumference (mm)&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/point-line-label-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">count.mtcars.df =<span class="st"> </span>mtcars.df <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cyl =</span> <span class="kw">as.factor</span>(cyl), <span class="dt">am =</span> <span class="kw">as.factor</span>(am)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(am, cyl) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">count =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">label.pos =</span> <span class="kw">cumsum</span>(count) <span class="op">-</span><span class="st"> </span>(<span class="fl">0.1</span> <span class="op">*</span><span class="st"> </span>count))

<span class="kw">ggplot</span>(count.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> cyl, <span class="dt">y =</span> count, <span class="dt">fill =</span> am, <span class="dt">label =</span> count)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">position =</span> <span class="kw">position_stack</span>(<span class="dt">vjust =</span> <span class="fl">0.5</span>))</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/point-line-label-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Annotated point
<span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st">   </span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="st">  </span>
<span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="kw">aes</span>(<span class="dt">label =</span> name), <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">show.legend =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/point-line-label-3.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Subset annotated
<span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st">   </span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="st">  </span>
<span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data =</span> mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(mpg<span class="op">&gt;</span><span class="dv">30</span>), <span class="kw">aes</span>(<span class="dt">label =</span> name), <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">show.legend =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/point-line-label-4.png" width="672" /></p>
</div>
<div id="meaningful-symbols" class="section level3">
<h3><span class="header-section-number">10.2.4</span> Meaningful symbols</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, 
        <span class="kw">aes</span>(disp,  mpg, <span class="dt">colour =</span> <span class="kw">as.factor</span>(am), <span class="dt">shape =</span> <span class="kw">as.factor</span>(am))) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">8</span>) <span class="op">+</span><span class="st">   </span>
<span class="st">    </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;0&quot;</span> =<span class="st"> &quot;blue&quot;</span>, <span class="st">&quot;1&quot;</span> =<span class="st"> &quot;red&quot;</span>)) <span class="op">+</span><span class="st">  </span>
<span class="st">  </span><span class="kw">scale_shape_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;0&quot;</span> =<span class="st"> &quot;\u2642&quot;</span>, <span class="st">&quot;1&quot;</span> =<span class="st"> &quot;\u2640&quot;</span>)) <span class="op">+</span><span class="st">  </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;custom shape: Male/Female&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
</div>
<div id="annotating-with-an-inset-plot" class="section level3">
<h3><span class="header-section-number">10.2.5</span> Annotating with an inset plot</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
diamonds.df =<span class="st"> </span>diamonds

## Specify area of the plot to highlight
xmin =<span class="st"> </span>.<span class="dv">8</span>; xmax =<span class="st"> </span><span class="fl">1.2</span>; ymin =<span class="st"> </span><span class="dv">2000</span>; ymax =<span class="st"> </span><span class="dv">7500</span>

higlight.df =<span class="st"> </span>diamonds.df <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(carat<span class="op">&gt;</span>xmin<span class="op">&amp;</span>carat<span class="op">&lt;</span>xmax, price<span class="op">&gt;</span>ymin<span class="op">&amp;</span>price<span class="op">&lt;</span>ymax)

overall.plot =<span class="st"> </span><span class="kw">ggplot</span>(diamonds.df, <span class="kw">aes</span>(carat, price))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> .<span class="dv">3</span>, <span class="dt">size =</span> .<span class="dv">3</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_rect</span>(<span class="dt">xmin =</span> xmin, <span class="dt">xmax =</span> xmax, <span class="dt">ymin =</span> ymin, <span class="dt">ymax =</span> ymax,
            <span class="dt">fill =</span> <span class="st">&quot;transparent&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;grey60&quot;</span>)

inset.plot =<span class="st"> </span><span class="kw">ggplot</span>(higlight.df, <span class="kw">aes</span>(carat, price))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> .<span class="dv">3</span>, <span class="dt">size =</span> .<span class="dv">2</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_minimal</span>()

## Create custom annotation and add to 
inset.grob &lt;-<span class="st"> </span><span class="kw">ggplotGrob</span>(inset.plot )

overall.plot <span class="op">+</span><span class="st"> </span><span class="kw">annotation_custom</span>(<span class="dt">grob =</span> inset.grob, 
                       <span class="dt">xmin =</span> <span class="fl">3.5</span>, <span class="dt">xmax =</span> <span class="fl">5.2</span>, <span class="dt">ymin =</span> <span class="dv">250</span>, <span class="dt">ymax =</span> <span class="dv">16500</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/inset-plot-1.png" width="672" /></p>
</div>
<div id="labels-on-lines" class="section level3">
<h3><span class="header-section-number">10.2.6</span> Labels on lines</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggpmisc) <span class="co"># For stat_poly_eq for equation annotation  </span>
formula &lt;-<span class="st"> </span>y <span class="op">~</span><span class="st"> </span><span class="kw">poly</span>(x, <span class="dv">1</span>, <span class="dt">raw =</span> <span class="ot">TRUE</span>)
<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x=</span>disp, <span class="dt">y=</span>mpg)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st">  </span>
<span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">formula =</span> formula) <span class="op">+</span><span class="st">     </span><span class="kw">stat_poly_eq</span>(<span class="kw">aes</span>(<span class="dt">label =</span>  <span class="kw">paste</span>(..eq.label.., ..adj.rr.label.., 
        <span class="dt">sep =</span> <span class="st">&quot;~~~~&quot;</span>)), <span class="dt">formula =</span> formula, <span class="dt">parse =</span> <span class="ot">TRUE</span>, <span class="dt">coef.digits =</span> <span class="dv">2</span>, <span class="dt">label.x =</span> <span class="dv">200</span>, <span class="dt">label.y =</span> <span class="dv">30</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
</div>
<div id="AddingRemovingLabels" class="section level3">
<h3><span class="header-section-number">10.2.7</span> Adding and removing labels: title, axis labels, and facet labels</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(ggalt)
<span class="kw">library</span>(ggrepel)

<span class="co"># Add names of cars to dataframe</span>
mtcars.df =<span class="st"> </span>mtcars
mtcars.df<span class="op">$</span>name =<span class="st"> </span><span class="kw">row.names</span>(mtcars.df)

## Axis labels, title, and legend
<span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Displacement (cubic inches)&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Efficiency (mile per gallon)&quot;</span>, 
       <span class="dt">title =</span> <span class="st">&quot;Efficiency and engine size&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;Number of cylinders&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Subtitle and caption
<span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Displacement (cubic inches)&quot;</span>, <span class="dt">y =</span> <span class="kw">quote</span>(alpha <span class="op">+</span><span class="st"> </span>beta <span class="op">+</span><span class="st"> </span><span class="kw">frac</span>(delta, theta)), 
       <span class="dt">title =</span> <span class="st">&quot;Efficiency and engine size&quot;</span>, <span class="dt">subtitle =</span> <span class="st">&quot;mtcars data&quot;</span>,
       <span class="dt">caption =</span> <span class="st">&quot;Caption if needed&quot;</span>,
       <span class="dt">colour =</span> <span class="st">&quot;Number of cylinders&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-28-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Remove labels 
<span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-28-3.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Facet labels 
cyl_names &lt;-<span class="st"> </span><span class="kw">as_labeller</span>(<span class="kw">c</span>(<span class="st">&quot;4&quot;</span> =<span class="st"> &quot;Four&quot;</span>, <span class="st">&quot;6&quot;</span> =<span class="st"> &quot;Six&quot;</span>, <span class="st">&quot;8&quot;</span> =<span class="st"> &quot;Eight&quot;</span>))

 <span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(wt, mpg))<span class="op">+</span><span class="st"> </span>
<span class="st">   </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">   </span><span class="kw">facet_grid</span>(cyl <span class="op">~</span><span class="st"> </span>., <span class="dt">labeller =</span> <span class="kw">as_labeller</span>(cyl_names))</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-28-4.png" width="672" /></p>
</div>
</div>
<div id="position-legend" class="section level2">
<h2><span class="header-section-number">10.3</span> Position legend</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Place legend at bottom</span>
<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/legend-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Place legend in graph</span>
<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="kw">c</span>(<span class="fl">0.9</span>, <span class="fl">0.8</span>))</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/legend-2.png" width="672" /></p>
<div id="remove-one-or-more-legends" class="section level3">
<h3><span class="header-section-number">10.3.1</span> Remove one or more legends</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(wt, mpg, <span class="dt">colour =</span> cyl, <span class="dt">size =</span> hp))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/remove-legend-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Remove legend for single mapping
<span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(wt, mpg, <span class="dt">colour =</span> cyl, <span class="dt">size =</span> hp))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">guides</span>(<span class="dt">colour=</span><span class="ot">FALSE</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/remove-legend-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(wt, mpg, <span class="dt">colour =</span> cyl, <span class="dt">size =</span> hp))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_colour_continuous</span>(<span class="dt">guide=</span><span class="ot">FALSE</span>) </code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/remove-legend-3.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Remove legend for a single layer
<span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(wt, mpg, <span class="dt">colour =</span> cyl, <span class="dt">size =</span> hp))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">show.legend=</span><span class="ot">FALSE</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/remove-legend-4.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Remove all legends</span>
<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/remove-legend-5.png" width="672" /></p>
</div>
<div id="setting-limits-on-axis-and-position-of-graph" class="section level3">
<h3><span class="header-section-number">10.3.2</span> Setting limits on axis and position of graph</h3>
<p><code>r  ## Change axis limits to focus on part of data  ggplot(mtcars.df, aes(wt, mpg))+    geom_point()</code></p>
<p><img src="visualizationwithggplot_files/figure-html/plot-margin-1.png" width="672" /></p>
<p><code>r  ggplot(mtcars.df, aes(wt, mpg))+  geom_point()+  lims(x = c(3, 4))</code></p>
<p><code>## Warning: Removed 16 rows containing missing values  ## (geom_point).</code></p>
<p><img src="visualizationwithggplot_files/figure-html/plot-margin-2.png" width="672" /></p>
<p><code>r  ggplot(mtcars.df, aes(wt, mpg))+  geom_point()+  scale_x_continuous(limits = c(3, 4))</code></p>
<p><code>## Warning: Removed 16 rows containing missing values  ## (geom_point).</code></p>
<p><img src="visualizationwithggplot_files/figure-html/plot-margin-3.png" width="672" /></p>
</div>
<div id="adjust-margin-between-points-and-edge-of-plot-area" class="section level3">
<h3><span class="header-section-number">10.3.3</span> Adjust margin between points and edge of plot area</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(wt, mpg))<span class="op">+</span>
<span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">expand =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">expand =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) </code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
</div>
</div>
<div id="color" class="section level2">
<h2><span class="header-section-number">10.4</span> Color</h2>
<p>The palette of colors that is scaled to the data is set separately for “fill” and for “colour”</p>
<p>Color palettes that work for discrete variables (e.g., factors) may not work for continuous, numeric variables</p>
<p>Color palette design is complex and choice depends on</p>
<p>Number of categories in the data Ability to support black and white printing</p>
<p>Ability to support color-deficient vision</p>
<p>Size of the space being colored</p>
<p>Small areas, such as points, benefit from saturated color, and large areas, such a bars are better with less intense color.</p>
<p>Great resources to explain the basis of the Brewer, Viridis, and ptol palettes: <a href="http://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3" class="uri">http://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3</a></p>
<p><a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html" class="uri">https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html</a></p>
<p><a href="https://personal.sron.nl/~pault/" class="uri">https://personal.sron.nl/~pault/</a></p>
<div id="resources-to-explain-the-basis-form-color-choice" class="section level3">
<h3><span class="header-section-number">10.4.1</span> Resources to explain the basis form color choice</h3>
<p>Brewer, Viridis, and ptol palettes <a href="http://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3" class="uri">http://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3</a> <a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html" class="uri">https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html</a> <a href="https://personal.sron.nl/~pault/" class="uri">https://personal.sron.nl/~pault/</a></p>
</div>
<div id="large-and-small-area-colors" class="section level3">
<h3><span class="header-section-number">10.4.2</span> Large and small area colors</h3>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
</div>
<div id="color-for-large-and-small-areas" class="section level3">
<h3><span class="header-section-number">10.4.3</span> Color for large and small areas</h3>
<p>What works for large areas of color might not work for small areas <img src="visualizationwithggplot_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
</div>
<div id="continuous-color-scales" class="section level3">
<h3><span class="header-section-number">10.4.4</span> Continuous color scales</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Scales made for factors do not work with continuous variables</span>
<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> mpg))<span class="op">+</span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;gplot: Default&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> mpg))<span class="op">+</span><span class="kw">geom_point</span>()<span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">scale_color_viridis</span>(<span class="dt">discrete =</span> <span class="ot">FALSE</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;viridis: viridis&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-32-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##TODO Add parula</code></pre></div>
</div>
<div id="discrete-color-mappings" class="section level3">
<h3><span class="header-section-number">10.4.5</span> Discrete color mappings</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> color, <span class="dt">fill =</span> cut)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_bar</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_hue</span>()<span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;ggplot: Default&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> color, <span class="dt">fill =</span> cut)) <span class="op">+</span><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Accent&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Brewer: Accent&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-33-2.png" width="672" /></p>
</div>
</div>
<div id="themes-and-theme-options" class="section level2">
<h2><span class="header-section-number">10.5</span> Themes and theme options</h2>
<p>Turn off many theme elements</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">theme</span>(<span class="dt">axis.line=</span><span class="kw">element_blank</span>(), <span class="dt">axis.text.x=</span><span class="kw">element_blank</span>(),   <span class="dt">axis.text.y=</span><span class="kw">element_blank</span>(), <span class="dt">axis.ticks=</span><span class="kw">element_blank</span>(),    <span class="dt">axis.title.x=</span><span class="kw">element_blank</span>(), <span class="dt">axis.title.y=</span><span class="kw">element_blank</span>(),     <span class="dt">legend.position=</span><span class="st">&quot;none&quot;</span>, <span class="dt">panel.background=</span><span class="kw">element_blank</span>(),   <span class="dt">panel.border=</span><span class="kw">element_blank</span>(), <span class="dt">panel.grid.major=</span><span class="kw">element_blank</span>(),     <span class="dt">panel.grid.minor=</span><span class="kw">element_blank</span>(), <span class="dt">plot.background=</span><span class="kw">element_blank</span>())</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<div id="remove-chart-details" class="section level3">
<h3><span class="header-section-number">10.5.1</span> Remove chart details</h3>
<p>Useful for plotting graphs and networks and maps</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.line=</span><span class="kw">element_blank</span>(),
      <span class="dt">axis.text.x=</span><span class="kw">element_blank</span>(),
      <span class="dt">axis.text.y=</span><span class="kw">element_blank</span>(),
      <span class="dt">axis.ticks=</span><span class="kw">element_blank</span>(),
      <span class="dt">axis.title.x=</span><span class="kw">element_blank</span>(),
      <span class="dt">axis.title.y=</span><span class="kw">element_blank</span>(),
      <span class="dt">legend.position=</span><span class="st">&quot;none&quot;</span>,
      <span class="dt">panel.background=</span><span class="kw">element_blank</span>(),
      <span class="dt">panel.border=</span><span class="kw">element_blank</span>(),
      <span class="dt">panel.grid.major=</span><span class="kw">element_blank</span>(),
      <span class="dt">panel.grid.minor=</span><span class="kw">element_blank</span>(),
      <span class="dt">plot.background=</span><span class="kw">element_blank</span>())</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
</div>
<div id="predefined-themes-adjust-many-elements" class="section level3">
<h3><span class="header-section-number">10.5.2</span> Predefined themes adjust many elements</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(hrbrthemes) <span class="co"># Precise font and minimal grid</span>
<span class="kw">library</span>(ggthemes) <span class="co"># Huge variety of themes including Tufte and Few</span>
<span class="kw">library</span>(xkcd) <span class="co"># Plots in the xkcd comic style</span></code></pre></div>
<p>An engaging and fun theme <a href="ftp://200.236.31.7/CRAN/web/packages/xkcd/vignettes/xkcd-intro.pdf" class="uri">ftp://200.236.31.7/CRAN/web/packages/xkcd/vignettes/xkcd-intro.pdf</a></p>
<p><img src="visualizationwithggplot_files/figure-html/xkcd-plot-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">theme_void</span>()</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_minimal</span>(<span class="dt">base_size =</span> <span class="dv">18</span>, <span class="dt">base_family =</span> <span class="st">&quot;Avenir&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#ipsum, latin for neat</span>

<span class="kw">library</span>(hrbrthemes)

<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st">    </span>
<span class="st">  </span><span class="kw">scale_colour_ipsum</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">theme_ipsum</span>()</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">scale_color_fivethirtyeight</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">theme_fivethirtyeight</span>()</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-39-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="st">     </span>
<span class="st">  </span><span class="kw">scale_color_few</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">theme_few</span>()</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-39-3.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st">    </span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_rangeframe</span>()<span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">theme_tufte</span>()</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-39-4.png" width="672" /></p>
<p>order of application matters</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="st">  </span><span class="kw">scale_colour_ipsum</span>() <span class="op">+</span><span class="st"> </span>
<span class="kw">theme_ipsum</span>() <span class="op">+</span>
<span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="kw">c</span>(.<span class="dv">85</span>, .<span class="dv">8</span>))</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-40-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="st">  </span><span class="kw">scale_colour_ipsum</span>() <span class="op">+</span><span class="st"> </span>
<span class="kw">theme_ipsum</span>() <span class="op">+</span>
<span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="kw">c</span>(.<span class="dv">85</span>, .<span class="dv">8</span>))<span class="op">+</span><span class="st">  </span>
<span class="kw">theme_ipsum</span>()</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-40-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(wt, mpg)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">margin =</span> <span class="kw">margin</span>(<span class="dt">t =</span> <span class="dv">10</span>, <span class="dt">r =</span> <span class="dv">10</span>, <span class="dt">b =</span> <span class="dv">80</span>, <span class="dt">l =</span> <span class="dv">20</span>)))</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/adjust-text-postion-1.png" width="672" /></p>
</div>
<div id="ordering-theme-layers" class="section level3">
<h3><span class="header-section-number">10.5.3</span> Ordering theme layers</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Sets theme then adjusts legend</span>
<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">theme_ipsum</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="kw">c</span>(.<span class="dv">85</span>, .<span class="dv">8</span>))</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Adjusts legend, but the overrides with setting theme </span>
<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()<span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="kw">c</span>(.<span class="dv">85</span>, .<span class="dv">8</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_ipsum</span>()</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-41-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## To set for all plots
<span class="kw">theme_set</span>(<span class="kw">theme_few</span>())
<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-41-3.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">theme_set</span>(<span class="kw">theme_gray</span>()) <span class="co"># Returns to default theme</span></code></pre></div>
</div>
<div id="pre-set-theme-options" class="section level3">
<h3><span class="header-section-number">10.5.4</span> Pre-set theme options</h3>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
</div>
<div id="themes-form-other-packages" class="section level3">
<h3><span class="header-section-number">10.5.5</span> Themes form other packages</h3>
<pre><code>## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial Narrow&#39; not found in PostScript font database</code></pre>
<pre><code>## Warning in align_plots(plotlist = plots, align = align,
## axis = axis): Complex graphs cannot be vertically
## aligned unless axis parameter is set properly. Placing
## graphs unaligned.</code></pre>
<pre><code>## Warning in align_plots(plotlist = plots, align = align,
## axis = axis): Graphs cannot be horizontally aligned,
## unless axis parameter set. Placing graphs unaligned.</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-43-1.png" width="672" /></p>
</div>
</div>
<div id="saving-and-printing-plots-to-include-in-documents" class="section level2">
<h2><span class="header-section-number">10.6</span> Saving and printing plots to include in documents</h2>
<p>For formal documents save graphs and import. Do not cut and paste from RStudio Saving and importing provides consistent physical size, resolution, and aspect ratio: DO NOT re-scale in the document Vector formats (PDF, SVG)</p>
<p>Provide crisp images even when zoomed in and raster File size scales with number of data points Raster formats (PNG, TIFF)</p>
<p>The dpi (dots per inch) defines the resolution of the image File size scales with dimensions of graph and dpi</p>
<div id="png-jpeg-pdf-and-svg" class="section level3">
<h3><span class="header-section-number">10.6.1</span> PNG, JPEG, PDF, and SVG</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mpg.plot =<span class="st"> </span><span class="kw">ggplot</span>(mtcars, 
    <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>()

<span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;mpg.png&quot;</span>, 
    <span class="dt">device =</span> <span class="st">&quot;png&quot;</span>,
    <span class="dt">plot =</span> mpg.plot, <span class="dt">height =</span> <span class="dv">4</span>, <span class="dt">width =</span> <span class="dv">5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, 
    <span class="dt">dpi =</span> <span class="dv">300</span>)

<span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;mpg.pdf&quot;</span>, <span class="dt">device =</span> <span class="st">&quot;pdf&quot;</span>, 
      <span class="dt">plot =</span> mpg.plot, <span class="dt">height =</span> <span class="dv">4</span>, <span class="dt">width =</span> <span class="dv">5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(svglite)
<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-45-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mpg.plot =<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp,  mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()

## Possible formats:
<span class="co">#  &quot;eps&quot;, &quot;ps&quot;, &quot;tex&quot; (pictex), &quot;pdf&quot;, &quot;jpeg&quot;, &quot;tiff&quot;, &quot;png&quot;, &quot;bmp&quot;, &quot;svg&quot; or &quot;wmf&quot; (windows only)</span>

## PNG--raster format that looks blurry at low resolution  
<span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;mpg.png&quot;</span>, <span class="dt">device =</span> <span class="st">&quot;png&quot;</span>,
       <span class="dt">plot =</span> mpg.plot, <span class="dt">height =</span> <span class="dv">4</span>, <span class="dt">width =</span> <span class="dv">5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)

## PDF--vector format that remains sharp even when zoomed in
<span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;mpg.pdf&quot;</span>, <span class="dt">device =</span> <span class="st">&quot;pdf&quot;</span>,
       <span class="dt">plot =</span> mpg.plot, <span class="dt">height =</span> <span class="dv">4</span>, <span class="dt">width =</span> <span class="dv">5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>)

## SVG--vector format that remains sharp even when zoomed in
<span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;mpg.svg&quot;</span>, <span class="dt">device =</span> <span class="st">&quot;svg&quot;</span>,
       <span class="dt">plot =</span> mpg.plot, <span class="dt">height =</span> <span class="dv">4</span>, <span class="dt">width =</span> <span class="dv">5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>)


## Saving many plots into a single file
<span class="co"># Calculate the number of pages with 9 panels per page</span>
n_pages &lt;-<span class="st"> </span><span class="kw">ceiling</span>(
  <span class="kw">length</span>(<span class="kw">levels</span>(diamonds<span class="op">$</span>color)) <span class="op">*</span><span class="st"> </span><span class="kw">length</span>(<span class="kw">levels</span>(diamonds<span class="op">$</span>cut<span class="op">:</span>diamonds<span class="op">$</span>clarity)) <span class="op">/</span><span class="st"> </span><span class="dv">9</span>
)

<span class="kw">pdf</span>(<span class="st">&quot;multipage.pdf&quot;</span>)
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_len</span>(n_pages)) {
    p=<span class="st">  </span><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(carat, price)) <span class="op">+</span>
<span class="st">          </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.1</span>) <span class="op">+</span>
<span class="st">          </span><span class="kw">facet_grid_paginate</span>(color<span class="op">~</span>cut<span class="op">:</span>clarity, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">page =</span> i)<span class="op">+</span>
<span class="st">        </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;ggforce: facet pagination&quot;</span>)
    <span class="kw">print</span>(p)
}
<span class="kw">dev.off</span>()</code></pre></div>
<pre><code>## quartz_off_screen 
##                 2</code></pre>
</div>
<div id="combining-multiple-graphs-for-publication" class="section level3">
<h3><span class="header-section-number">10.6.2</span> Combining multiple graphs for publication</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggpubr)

displ.plot =<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()
hp.plot =<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(hp, mpg)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()

combined.plot =<span class="st"> </span><span class="kw">ggarrange</span>(displ.plot, hp.plot, <span class="dt">nrow=</span><span class="dv">1</span>, <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">align =</span> <span class="st">&quot;hv&quot;</span>)
combined.plot</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
</div>
<div id="faceted-pagination" class="section level3">
<h3><span class="header-section-number">10.6.3</span> Faceted pagination</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggforce)
## Examples from: https://cran.r-project.org/web/packages/ggforce/vignettes/Visual_Guide.html


<span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(carat, price)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.1</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_grid_paginate</span>(color<span class="op">~</span>cut<span class="op">:</span>clarity, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">page =</span> <span class="dv">1</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;ggforce: facet pagination&quot;</span>)</code></pre></div>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-47-1.png" width="672" /></p>


</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Tables.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Interaction.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jdlee/interactive-data-visualization/blob/master/10-polishing.Rmd",
"text": "Edit"
},
"download": ["visualizationwithggplot.pdf", "visualizationwithggplot.epub"],
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
