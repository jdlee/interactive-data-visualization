<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Comparison–barchart, boxplots, synaplots | Interactive data visualization</title>
  <meta name="description" content="A book of ggplot examples" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Comparison–barchart, boxplots, synaplots | Interactive data visualization" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/Minard_timeline_map.png" />
  <meta property="og:description" content="A book of ggplot examples" />
  <meta name="github-repo" content="jdlee/ggplot-examples" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Comparison–barchart, boxplots, synaplots | Interactive data visualization" />
  
  <meta name="twitter:description" content="A book of ggplot examples" />
  <meta name="twitter:image" content="images/Minard_timeline_map.png" />

<meta name="author" content="John D. Lee" />


<meta name="date" content="2019-07-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Distribution.html">
<link rel="next" href="Proportion.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding/datatables.js"></script>
<link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>
<link href="libs/nouislider/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider/jquery.nouislider.min.js"></script>
<link href="libs/selectize/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize/selectize.min.js"></script>
<link href="libs/jquery-sparkline/jquery.sparkline.css" rel="stylesheet" />
<script src="libs/jquery-sparkline/jquery.sparkline.js"></script>
<script src="libs/sparkline-binding/sparkline.js"></script>
<script src="libs/d3/d3.min.js"></script>
<script src="libs/d3-lasso/d3-lasso.min.js"></script>
<link href="libs/ggiraphjs/styles.css" rel="stylesheet" />
<script src="libs/ggiraphjs/ggiraphjs.min.js"></script>
<script src="libs/girafe-binding/girafe.js"></script>
<script src="libs/plotly-binding/plotly.js"></script>
<script src="libs/typedarray/typedarray.min.js"></script>
<link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main/plotly-latest.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Interactive Data Visualization in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-read-this-book"><i class="fa fa-check"></i>Why read this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#structure-of-the-book"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-information-and-conventions"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="Introduction.html"><a href="Introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction: Audiences, purposes, questions</a><ul>
<li class="chapter" data-level="1.1" data-path="Introduction.html"><a href="Introduction.html#seeing-meaning-rather-than-numbers"><i class="fa fa-check"></i><b>1.1</b> Seeing meaning rather than numbers</a></li>
<li class="chapter" data-level="1.2" data-path="Introduction.html"><a href="Introduction.html#seeing-more-than-summary-statistics"><i class="fa fa-check"></i><b>1.2</b> Seeing more than summary statistics</a></li>
<li class="chapter" data-level="1.3" data-path="Introduction.html"><a href="Introduction.html#purposes-and-audiences-of-visualizations"><i class="fa fa-check"></i><b>1.3</b> Purposes and audiences of visualizations</a></li>
<li class="chapter" data-level="1.4" data-path="Introduction.html"><a href="Introduction.html#what-question-to-answer"><i class="fa fa-check"></i><b>1.4</b> What question to answer?</a></li>
<li class="chapter" data-level="1.5" data-path="Introduction.html"><a href="Introduction.html#storytelling-with-graphics"><i class="fa fa-check"></i><b>1.5</b> Storytelling with graphics</a></li>
<li class="chapter" data-level="1.6" data-path="Introduction.html"><a href="Introduction.html#data-sources"><i class="fa fa-check"></i><b>1.6</b> Data sources</a></li>
<li class="chapter" data-level="1.7" data-path="Introduction.html"><a href="Introduction.html#grammar-of-data-manipulation"><i class="fa fa-check"></i><b>1.7</b> Grammar of data manipulation</a></li>
<li class="chapter" data-level="1.8" data-path="Introduction.html"><a href="Introduction.html#grammar-of-graphics"><i class="fa fa-check"></i><b>1.8</b> Grammar of graphics</a></li>
<li class="chapter" data-level="1.9" data-path="Introduction.html"><a href="Introduction.html#considering-cognitive-capabilities-in-graphic-design"><i class="fa fa-check"></i><b>1.9</b> Considering cognitive capabilities in graphic design</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Principles.html"><a href="Principles.html"><i class="fa fa-check"></i><b>2</b> Visualization types and principles</a><ul>
<li class="chapter" data-level="2.1" data-path="Principles.html"><a href="Principles.html#pairing-questions-and-graph-types"><i class="fa fa-check"></i><b>2.1</b> Pairing questions and graph types</a></li>
<li class="chapter" data-level="2.2" data-path="Principles.html"><a href="Principles.html#percpetual-processes-to-be-supported-comparison-detection-pattern-identification"><i class="fa fa-check"></i><b>2.2</b> Percpetual processes to be supported: Comparison, Detection, Pattern identification</a><ul>
<li class="chapter" data-level="2.2.1" data-path="Principles.html"><a href="Principles.html#read-and-judge-values"><i class="fa fa-check"></i><b>2.2.1</b> Read and judge values</a></li>
<li class="chapter" data-level="2.2.2" data-path="Principles.html"><a href="Principles.html#compare-values"><i class="fa fa-check"></i><b>2.2.2</b> Compare values</a></li>
<li class="chapter" data-level="2.2.3" data-path="Principles.html"><a href="Principles.html#detect-and-select"><i class="fa fa-check"></i><b>2.2.3</b> Detect and select</a></li>
<li class="chapter" data-level="2.2.4" data-path="Principles.html"><a href="Principles.html#identify-groups-and-patterns"><i class="fa fa-check"></i><b>2.2.4</b> Identify groups and patterns</a></li>
<li class="chapter" data-level="2.2.5" data-path="Principles.html"><a href="Principles.html#narrative-structure-and-sequence"><i class="fa fa-check"></i><b>2.2.5</b> Narrative structure and sequence</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="Principles.html"><a href="Principles.html#principles-from-general-to-specific"><i class="fa fa-check"></i><b>2.3</b> Principles from general to specific</a><ul>
<li class="chapter" data-level="2.3.1" data-path="Principles.html"><a href="Principles.html#identify-audience-story-and-key-relationships-few"><i class="fa fa-check"></i><b>2.3.1</b> Identify audience, story, and key relationships (Few)</a></li>
<li class="chapter" data-level="2.3.2" data-path="Principles.html"><a href="Principles.html#focus-attention-and-organize-reading"><i class="fa fa-check"></i><b>2.3.2</b> Focus attention and organize reading</a></li>
<li class="chapter" data-level="2.3.3" data-path="Principles.html"><a href="Principles.html#annotate-to-show-cause-and-explain-why"><i class="fa fa-check"></i><b>2.3.3</b> Annotate to show cause and explain why</a></li>
<li class="chapter" data-level="2.3.4" data-path="Principles.html"><a href="Principles.html#concrete-details-engage-and-are-memorable"><i class="fa fa-check"></i><b>2.3.4</b> Concrete details engage and are memorable</a></li>
<li class="chapter" data-level="2.3.5" data-path="Principles.html"><a href="Principles.html#enable-comparisons-and-put-data-in-context"><i class="fa fa-check"></i><b>2.3.5</b> Enable comparisons and put data in context</a></li>
<li class="chapter" data-level="2.3.6" data-path="Principles.html"><a href="Principles.html#map-types-of-variables-to-graph-features"><i class="fa fa-check"></i><b>2.3.6</b> Map types of variables to graph features</a></li>
<li class="chapter" data-level="2.3.7" data-path="Principles.html"><a href="Principles.html#ensure-proximity-compatibility"><i class="fa fa-check"></i><b>2.3.7</b> Ensure proximity compatibility</a></li>
<li class="chapter" data-level="2.3.8" data-path="Principles.html"><a href="Principles.html#legibility-and-consistency"><i class="fa fa-check"></i><b>2.3.8</b> Legibility and consistency</a></li>
<li class="chapter" data-level="2.3.9" data-path="Principles.html"><a href="Principles.html#maximize-dataink-ratio"><i class="fa fa-check"></i><b>2.3.9</b> Maximize data/ink ratio</a></li>
<li class="chapter" data-level="2.3.10" data-path="Principles.html"><a href="Principles.html#manage-clutter-with-grouping-and-layering"><i class="fa fa-check"></i><b>2.3.10</b> Manage clutter with grouping and layering</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="Principles.html"><a href="Principles.html#overview-of-examples"><i class="fa fa-check"></i><b>2.4</b> Overview of examples</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Association.html"><a href="Association.html"><i class="fa fa-check"></i><b>3</b> Association–scatterplots</a><ul>
<li class="chapter" data-level="3.1" data-path="Association.html"><a href="Association.html#basic-elements-of-the-grammar-of-graphics"><i class="fa fa-check"></i><b>3.1</b> Basic elements of the grammar of graphics</a></li>
<li class="chapter" data-level="3.2" data-path="Association.html"><a href="Association.html#simple-scatterplot"><i class="fa fa-check"></i><b>3.2</b> Simple scatterplot</a></li>
<li class="chapter" data-level="3.3" data-path="Association.html"><a href="Association.html#scatterplot-with-additional-mappings"><i class="fa fa-check"></i><b>3.3</b> Scatterplot with additional mappings</a></li>
<li class="chapter" data-level="3.4" data-path="Association.html"><a href="Association.html#scatterplot-with-linear-and-loess-fit"><i class="fa fa-check"></i><b>3.4</b> Scatterplot with linear and loess fit</a></li>
<li class="chapter" data-level="3.5" data-path="Association.html"><a href="Association.html#global-and-local-regression"><i class="fa fa-check"></i><b>3.5</b> Global and local regression</a></li>
<li class="chapter" data-level="3.6" data-path="Association.html"><a href="Association.html#quantile-regression-and-other-functional-relationships"><i class="fa fa-check"></i><b>3.6</b> Quantile regression and other functional relationships</a></li>
<li class="chapter" data-level="3.7" data-path="Association.html"><a href="Association.html#scatterplot-with-regression-equation-and-marginal-distributions"><i class="fa fa-check"></i><b>3.7</b> Scatterplot with regression equation and marginal distributions</a></li>
<li class="chapter" data-level="3.8" data-path="Association.html"><a href="Association.html#categorical-scatterplot"><i class="fa fa-check"></i><b>3.8</b> Categorical scatterplot</a></li>
<li class="chapter" data-level="3.9" data-path="Association.html"><a href="Association.html#table-lens"><i class="fa fa-check"></i><b>3.9</b> Table lens</a></li>
<li class="chapter" data-level="3.10" data-path="Association.html"><a href="Association.html#scatterplot-with-overplotting-mitigation"><i class="fa fa-check"></i><b>3.10</b> Scatterplot with overplotting mitigation</a></li>
<li class="chapter" data-level="3.11" data-path="Association.html"><a href="Association.html#a-matrix-of-scatterplots"><i class="fa fa-check"></i><b>3.11</b> A matrix of scatterplots</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Distribution.html"><a href="Distribution.html"><i class="fa fa-check"></i><b>4</b> Distribution–histograms and density plots</a><ul>
<li class="chapter" data-level="4.1" data-path="Distribution.html"><a href="Distribution.html#histograms-and-bin-choice"><i class="fa fa-check"></i><b>4.1</b> Histograms and bin choice</a></li>
<li class="chapter" data-level="4.2" data-path="Distribution.html"><a href="Distribution.html#density-and-kernel-adjustment"><i class="fa fa-check"></i><b>4.2</b> Density and kernel adjustment</a></li>
<li class="chapter" data-level="4.3" data-path="Distribution.html"><a href="Distribution.html#histogram-percentage-rather-than-count"><i class="fa fa-check"></i><b>4.3</b> Histogram percentage rather than count</a></li>
<li class="chapter" data-level="4.4" data-path="Distribution.html"><a href="Distribution.html#histogram-density-overlay-and-normal-overlay"><i class="fa fa-check"></i><b>4.4</b> Histogram, density overlay, and normal overlay</a></li>
<li class="chapter" data-level="4.5" data-path="Distribution.html"><a href="Distribution.html#cummulative-density"><i class="fa fa-check"></i><b>4.5</b> Cummulative density</a></li>
<li class="chapter" data-level="4.6" data-path="Distribution.html"><a href="Distribution.html#quantile-quantle-plot"><i class="fa fa-check"></i><b>4.6</b> Quantile-quantle plot</a></li>
<li class="chapter" data-level="4.7" data-path="Distribution.html"><a href="Distribution.html#cummulative-density-1"><i class="fa fa-check"></i><b>4.7</b> Cummulative density</a></li>
<li class="chapter" data-level="4.8" data-path="Distribution.html"><a href="Distribution.html#distribution-2-d-distribution-and-overplotting-revisited"><i class="fa fa-check"></i><b>4.8</b> Distribution: 2-D distribution and overplotting revisited</a></li>
<li class="chapter" data-level="4.9" data-path="Distribution.html"><a href="Distribution.html#tufte-smallmultiples"><i class="fa fa-check"></i><b>4.9</b> Small multiple histogram with density and median reference lines</a></li>
<li class="chapter" data-level="4.10" data-path="Distribution.html"><a href="Distribution.html#ridge-plotan-array-of-density-plots"><i class="fa fa-check"></i><b>4.10</b> Ridge plot–An array of density plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="Comparison.html"><a href="Comparison.html"><i class="fa fa-check"></i><b>5</b> Comparison–barchart, boxplots, synaplots</a><ul>
<li class="chapter" data-level="5.1" data-path="Comparison.html"><a href="Comparison.html#graph-considerations-for-communication-aggregation-abstraction-complexity"><i class="fa fa-check"></i><b>5.1</b> Graph considerations for communication: aggregation, abstraction, complexity</a><ul>
<li class="chapter" data-level="5.1.1" data-path="Comparison.html"><a href="Comparison.html#simple-bar-chart"><i class="fa fa-check"></i><b>5.1.1</b> Simple bar chart</a></li>
<li class="chapter" data-level="5.1.2" data-path="Comparison.html"><a href="Comparison.html#bar-chart-with-error-bars"><i class="fa fa-check"></i><b>5.1.2</b> Bar chart with error bars</a></li>
<li class="chapter" data-level="5.1.3" data-path="Comparison.html"><a href="Comparison.html#dotplot-and-offset-range-plot"><i class="fa fa-check"></i><b>5.1.3</b> dotplot and offset range plot</a></li>
<li class="chapter" data-level="5.1.4" data-path="Comparison.html"><a href="Comparison.html#statistical-significance-in-context"><i class="fa fa-check"></i><b>5.1.4</b> Statistical significance in context</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="Comparison.html"><a href="Comparison.html#comparing-distributions-box-violyn-and-sina-plot"><i class="fa fa-check"></i><b>5.2</b> Comparing distributions, box, violyn, and sina plot</a><ul>
<li class="chapter" data-level="5.2.1" data-path="Comparison.html"><a href="Comparison.html#compare-empirical-and-theoretical-distribution"><i class="fa fa-check"></i><b>5.2.1</b> Compare empirical and theoretical distribution</a></li>
<li class="chapter" data-level="5.2.2" data-path="Comparison.html"><a href="Comparison.html#tufte-inspired-minimal-bar-chart"><i class="fa fa-check"></i><b>5.2.2</b> Tufte-inspired minimal bar chart</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="Comparison.html"><a href="Comparison.html#comparing-across-many-variables"><i class="fa fa-check"></i><b>5.3</b> Comparing across many variables</a><ul>
<li class="chapter" data-level="5.3.1" data-path="Comparison.html"><a href="Comparison.html#dot-plots-and-reordering"><i class="fa fa-check"></i><b>5.3.1</b> Dot plots and reordering</a></li>
<li class="chapter" data-level="5.3.2" data-path="Comparison.html"><a href="Comparison.html#point-range-on-x-and-y"><i class="fa fa-check"></i><b>5.3.2</b> Point range on x and y</a></li>
<li class="chapter" data-level="5.3.3" data-path="Comparison.html"><a href="Comparison.html#tufte-boxplot-for-many-variables"><i class="fa fa-check"></i><b>5.3.3</b> Tufte boxplot for many variables</a></li>
<li class="chapter" data-level="5.3.4" data-path="Comparison.html"><a href="Comparison.html#tufte-slopegraph"><i class="fa fa-check"></i><b>5.3.4</b> Tufte-inspired slope graphs</a></li>
<li class="chapter" data-level="5.3.5" data-path="Comparison.html"><a href="Comparison.html#parallel-coordinate-plot-with-similar-items-highlighted"><i class="fa fa-check"></i><b>5.3.5</b> Parallel coordinate plot with similar items highlighted</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="Comparison.html"><a href="Comparison.html#gliphs-chernof-face-and-radar-plots"><i class="fa fa-check"></i><b>5.4</b> Gliphs: Chernof face and radar plots</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Proportion.html"><a href="Proportion.html"><i class="fa fa-check"></i><b>6</b> Proportion–Pie charts and pareto plots</a><ul>
<li class="chapter" data-level="6.1" data-path="Proportion.html"><a href="Proportion.html#pie-and-bar-chart"><i class="fa fa-check"></i><b>6.1</b> Pie and bar chart</a></li>
<li class="chapter" data-level="6.2" data-path="Proportion.html"><a href="Proportion.html#waffle-plot"><i class="fa fa-check"></i><b>6.2</b> Waffle plot</a></li>
<li class="chapter" data-level="6.3" data-path="Proportion.html"><a href="Proportion.html#pareto-plot-whole-part-and-and-ranking"><i class="fa fa-check"></i><b>6.3</b> Pareto plot: Whole part and and ranking</a></li>
<li class="chapter" data-level="6.4" data-path="Proportion.html"><a href="Proportion.html#stacked-bar-chart"><i class="fa fa-check"></i><b>6.4</b> Stacked bar chart</a></li>
<li class="chapter" data-level="6.5" data-path="Proportion.html"><a href="Proportion.html#faceted-bar-chart-with-overall-reference-distribution"><i class="fa fa-check"></i><b>6.5</b> Faceted Bar chart with overall reference distribution</a></li>
<li class="chapter" data-level="6.6" data-path="Proportion.html"><a href="Proportion.html#rose-or-coxcomb-plots"><i class="fa fa-check"></i><b>6.6</b> Rose or Coxcomb plots</a></li>
<li class="chapter" data-level="6.7" data-path="Proportion.html"><a href="Proportion.html#stacked-dodged-and-opposed-bar-chart"><i class="fa fa-check"></i><b>6.7</b> Stacked, dodged, and opposed bar chart</a></li>
<li class="chapter" data-level="6.8" data-path="Proportion.html"><a href="Proportion.html#likert-scale-plot"><i class="fa fa-check"></i><b>6.8</b> Likert scale plot</a></li>
<li class="chapter" data-level="6.9" data-path="Proportion.html"><a href="Proportion.html#ternary-triangular-graph"><i class="fa fa-check"></i><b>6.9</b> ternary (triangular) graph</a></li>
<li class="chapter" data-level="6.10" data-path="Proportion.html"><a href="Proportion.html#treemaps-for-whole-part-of-hierarchy"><i class="fa fa-check"></i><b>6.10</b> Treemaps for whole-part of hierarchy</a></li>
<li class="chapter" data-level="6.11" data-path="Proportion.html"><a href="Proportion.html#circle-packing"><i class="fa fa-check"></i><b>6.11</b> Circle packing</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Fluctuation.html"><a href="Fluctuation.html"><i class="fa fa-check"></i><b>7</b> Fluctuation–timelines</a><ul>
<li class="chapter" data-level="7.1" data-path="Fluctuation.html"><a href="Fluctuation.html#multiple-time-series"><i class="fa fa-check"></i><b>7.1</b> Multiple time series</a></li>
<li class="chapter" data-level="7.2" data-path="Fluctuation.html"><a href="Fluctuation.html#time-series-with-reference-line"><i class="fa fa-check"></i><b>7.2</b> Time series with reference line</a></li>
<li class="chapter" data-level="7.3" data-path="Fluctuation.html"><a href="Fluctuation.html#cycle-plot"><i class="fa fa-check"></i><b>7.3</b> Cycle plot</a></li>
<li class="chapter" data-level="7.4" data-path="Fluctuation.html"><a href="Fluctuation.html#connected-scatterplot"><i class="fa fa-check"></i><b>7.4</b> Connected scatterplot</a></li>
<li class="chapter" data-level="7.5" data-path="Fluctuation.html"><a href="Fluctuation.html#step-graph"><i class="fa fa-check"></i><b>7.5</b> Step graph</a></li>
<li class="chapter" data-level="7.6" data-path="Fluctuation.html"><a href="Fluctuation.html#faceted-zoom"><i class="fa fa-check"></i><b>7.6</b> Faceted zoom</a></li>
<li class="chapter" data-level="7.7" data-path="Fluctuation.html"><a href="Fluctuation.html#ridge-plot"><i class="fa fa-check"></i><b>7.7</b> Ridge plot</a></li>
<li class="chapter" data-level="7.8" data-path="Fluctuation.html"><a href="Fluctuation.html#stacked-area-and-line-graphs"><i class="fa fa-check"></i><b>7.8</b> Stacked area and line graphs</a></li>
<li class="chapter" data-level="7.9" data-path="Fluctuation.html"><a href="Fluctuation.html#temporal-heatmap"><i class="fa fa-check"></i><b>7.9</b> Temporal heatmap</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Connection.html"><a href="Connection.html"><i class="fa fa-check"></i><b>8</b> Connection–maps and network plots</a><ul>
<li class="chapter" data-level="8.1" data-path="Connection.html"><a href="Connection.html#maps"><i class="fa fa-check"></i><b>8.1</b> Maps</a><ul>
<li class="chapter" data-level="8.1.1" data-path="Connection.html"><a href="Connection.html#choropleth"><i class="fa fa-check"></i><b>8.1.1</b> Choropleth</a></li>
<li class="chapter" data-level="8.1.2" data-path="Connection.html"><a href="Connection.html#county-map"><i class="fa fa-check"></i><b>8.1.2</b> County map</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="Connection.html"><a href="Connection.html#us-county-small-multiples"><i class="fa fa-check"></i><b>8.2</b> US county small multiples</a></li>
<li class="chapter" data-level="8.3" data-path="Connection.html"><a href="Connection.html#state-bins"><i class="fa fa-check"></i><b>8.3</b> State bins</a></li>
<li class="chapter" data-level="8.4" data-path="Connection.html"><a href="Connection.html#world-migration"><i class="fa fa-check"></i><b>8.4</b> World migration</a></li>
<li class="chapter" data-level="8.5" data-path="Connection.html"><a href="Connection.html#networks"><i class="fa fa-check"></i><b>8.5</b> Networks</a><ul>
<li class="chapter" data-level="8.5.1" data-path="Connection.html"><a href="Connection.html#world-migration-network"><i class="fa fa-check"></i><b>8.5.1</b> World migration network</a></li>
<li class="chapter" data-level="8.5.2" data-path="Connection.html"><a href="Connection.html#hierarchy"><i class="fa fa-check"></i><b>8.5.2</b> Hierarchy</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="Tables.html"><a href="Tables.html"><i class="fa fa-check"></i><b>9</b> Graphical tables–interactive tables, highlights, and sparklines</a><ul>
<li class="chapter" data-level="9.1" data-path="Tables.html"><a href="Tables.html#heatmap-table"><i class="fa fa-check"></i><b>9.1</b> Heatmap table</a></li>
<li class="chapter" data-level="9.2" data-path="Tables.html"><a href="Tables.html#table-lens-with-a-integrated-bar"><i class="fa fa-check"></i><b>9.2</b> Table lens with a integrated bar</a></li>
<li class="chapter" data-level="9.3" data-path="Tables.html"><a href="Tables.html#sparkline"><i class="fa fa-check"></i><b>9.3</b> Sparkline</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Polishing.html"><a href="Polishing.html"><i class="fa fa-check"></i><b>10</b> Highlighting, annotating, polishing, and automating graphs</a><ul>
<li class="chapter" data-level="10.1" data-path="Polishing.html"><a href="Polishing.html#highlighting-datapoints-to-make-a-point"><i class="fa fa-check"></i><b>10.1</b> Highlighting datapoints to make a point</a></li>
<li class="chapter" data-level="10.2" data-path="Polishing.html"><a href="Polishing.html#labeling-and-annotation"><i class="fa fa-check"></i><b>10.2</b> Labeling and annotation</a><ul>
<li class="chapter" data-level="10.2.1" data-path="Polishing.html"><a href="Polishing.html#annotating-data"><i class="fa fa-check"></i><b>10.2.1</b> Annotating data</a></li>
<li class="chapter" data-level="10.2.2" data-path="Polishing.html"><a href="Polishing.html#time-series-with-lines-labeled"><i class="fa fa-check"></i><b>10.2.2</b> Time series with lines labeled</a></li>
<li class="chapter" data-level="10.2.3" data-path="Polishing.html"><a href="Polishing.html#labelling-lines-bars-points-and-select-points"><i class="fa fa-check"></i><b>10.2.3</b> Labelling lines, bars, points, and select points</a></li>
<li class="chapter" data-level="10.2.4" data-path="Polishing.html"><a href="Polishing.html#meaningful-symbols"><i class="fa fa-check"></i><b>10.2.4</b> Meaningful symbols</a></li>
<li class="chapter" data-level="10.2.5" data-path="Polishing.html"><a href="Polishing.html#annotating-with-an-inset-plot"><i class="fa fa-check"></i><b>10.2.5</b> Annotating with an inset plot</a></li>
<li class="chapter" data-level="10.2.6" data-path="Polishing.html"><a href="Polishing.html#labels-on-lines"><i class="fa fa-check"></i><b>10.2.6</b> Labels on lines</a></li>
<li class="chapter" data-level="10.2.7" data-path="Polishing.html"><a href="Polishing.html#AddingRemovingLabels"><i class="fa fa-check"></i><b>10.2.7</b> Adding and removing labels: title, axis labels, and facet labels</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="Polishing.html"><a href="Polishing.html#position-legend"><i class="fa fa-check"></i><b>10.3</b> Position legend</a><ul>
<li class="chapter" data-level="10.3.1" data-path="Polishing.html"><a href="Polishing.html#remove-one-or-more-legends"><i class="fa fa-check"></i><b>10.3.1</b> Remove one or more legends</a></li>
<li class="chapter" data-level="10.3.2" data-path="Polishing.html"><a href="Polishing.html#setting-limits-on-axis-and-position-of-graph"><i class="fa fa-check"></i><b>10.3.2</b> Setting limits on axis and position of graph</a></li>
<li class="chapter" data-level="10.3.3" data-path="Polishing.html"><a href="Polishing.html#adjust-margin-between-points-and-edge-of-plot-area"><i class="fa fa-check"></i><b>10.3.3</b> Adjust margin between points and edge of plot area</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="Polishing.html"><a href="Polishing.html#color"><i class="fa fa-check"></i><b>10.4</b> Color</a><ul>
<li class="chapter" data-level="10.4.1" data-path="Polishing.html"><a href="Polishing.html#resources-to-explain-the-basis-form-color-choice"><i class="fa fa-check"></i><b>10.4.1</b> Resources to explain the basis form color choice</a></li>
<li class="chapter" data-level="10.4.2" data-path="Polishing.html"><a href="Polishing.html#large-and-small-area-colors"><i class="fa fa-check"></i><b>10.4.2</b> Large and small area colors</a></li>
<li class="chapter" data-level="10.4.3" data-path="Polishing.html"><a href="Polishing.html#color-for-large-and-small-areas"><i class="fa fa-check"></i><b>10.4.3</b> Color for large and small areas</a></li>
<li class="chapter" data-level="10.4.4" data-path="Polishing.html"><a href="Polishing.html#continuous-color-scales"><i class="fa fa-check"></i><b>10.4.4</b> Continuous color scales</a></li>
<li class="chapter" data-level="10.4.5" data-path="Polishing.html"><a href="Polishing.html#discrete-color-mappings"><i class="fa fa-check"></i><b>10.4.5</b> Discrete color mappings</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="Polishing.html"><a href="Polishing.html#themes-and-theme-options"><i class="fa fa-check"></i><b>10.5</b> Themes and theme options</a><ul>
<li class="chapter" data-level="10.5.1" data-path="Polishing.html"><a href="Polishing.html#remove-chart-details"><i class="fa fa-check"></i><b>10.5.1</b> Remove chart details</a></li>
<li class="chapter" data-level="10.5.2" data-path="Polishing.html"><a href="Polishing.html#predefined-themes-adjust-many-elements"><i class="fa fa-check"></i><b>10.5.2</b> Predefined themes adjust many elements</a></li>
<li class="chapter" data-level="10.5.3" data-path="Polishing.html"><a href="Polishing.html#ordering-theme-layers"><i class="fa fa-check"></i><b>10.5.3</b> Ordering theme layers</a></li>
<li class="chapter" data-level="10.5.4" data-path="Polishing.html"><a href="Polishing.html#pre-set-theme-options"><i class="fa fa-check"></i><b>10.5.4</b> Pre-set theme options</a></li>
<li class="chapter" data-level="10.5.5" data-path="Polishing.html"><a href="Polishing.html#themes-form-other-packages"><i class="fa fa-check"></i><b>10.5.5</b> Themes form other packages</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="Polishing.html"><a href="Polishing.html#saving-and-printing-plots-to-include-in-documents"><i class="fa fa-check"></i><b>10.6</b> Saving and printing plots to include in documents</a><ul>
<li class="chapter" data-level="10.6.1" data-path="Polishing.html"><a href="Polishing.html#png-jpeg-pdf-and-svg"><i class="fa fa-check"></i><b>10.6.1</b> PNG, JPEG, PDF, and SVG</a></li>
<li class="chapter" data-level="10.6.2" data-path="Polishing.html"><a href="Polishing.html#combining-multiple-graphs-for-publication"><i class="fa fa-check"></i><b>10.6.2</b> Combining multiple graphs for publication</a></li>
<li class="chapter" data-level="10.6.3" data-path="Polishing.html"><a href="Polishing.html#faceted-pagination"><i class="fa fa-check"></i><b>10.6.3</b> Faceted pagination</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="Polishing.html"><a href="Polishing.html#functions-with-dplyr"><i class="fa fa-check"></i><b>10.7</b> Functions with dplyr</a></li>
<li class="chapter" data-level="10.8" data-path="Polishing.html"><a href="Polishing.html#create-functions-for-custom-plot"><i class="fa fa-check"></i><b>10.8</b> Create functions for custom plot</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="Interaction.html"><a href="Interaction.html"><i class="fa fa-check"></i><b>11</b> Interaction–annotate, highlight, link, and animate</a><ul>
<li class="chapter" data-level="11.1" data-path="Interaction.html"><a href="Interaction.html#dt-interactive-tables"><i class="fa fa-check"></i><b>11.1</b> DT: Interactive tables</a></li>
<li class="chapter" data-level="11.2" data-path="Interaction.html"><a href="Interaction.html#dt-interactive-tables-with-sparklines"><i class="fa fa-check"></i><b>11.2</b> DT: Interactive tables with sparklines</a></li>
<li class="chapter" data-level="11.3" data-path="Interaction.html"><a href="Interaction.html#ggiraph-simple-annotation"><i class="fa fa-check"></i><b>11.3</b> ggiraph: Simple annotation</a></li>
<li class="chapter" data-level="11.4" data-path="Interaction.html"><a href="Interaction.html#ggiraph-highlighting-and-multi-plot-linking"><i class="fa fa-check"></i><b>11.4</b> ggiraph: Highlighting and multi-plot linking</a></li>
<li class="chapter" data-level="11.5" data-path="Interaction.html"><a href="Interaction.html#plotly-map-annotation-with-flexible-tooltip-annotation"><i class="fa fa-check"></i><b>11.5</b> plotly: Map annotation with flexible tooltip annotation</a></li>
<li class="chapter" data-level="11.6" data-path="Interaction.html"><a href="Interaction.html#plotly-detailed-annotation-legend-based-selection-and-brush-to-zoom"><i class="fa fa-check"></i><b>11.6</b> plotly: Detailed annotation, legend-based selection, and brush to zoom</a></li>
<li class="chapter" data-level="11.7" data-path="Interaction.html"><a href="Interaction.html#plotly-linked-plots"><i class="fa fa-check"></i><b>11.7</b> plotly: Linked plots</a></li>
<li class="chapter" data-level="11.8" data-path="Interaction.html"><a href="Interaction.html#plotly-highlight-and-annotate-data-and-fit"><i class="fa fa-check"></i><b>11.8</b> plotly: Highlight and annotate data and fit</a></li>
<li class="chapter" data-level="11.9" data-path="Interaction.html"><a href="Interaction.html#plotly-time-series-scatterplot-animation"><i class="fa fa-check"></i><b>11.9</b> plotly: Time series scatterplot animation</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="shinyadvanced-interactive-graphics.html"><a href="shinyadvanced-interactive-graphics.html"><i class="fa fa-check"></i><b>12</b> Shiny–Advanced interactive graphics</a></li>
<li class="appendix"><span><b>Appendix</b></span><ul>
<li class="chapter" data-level="A.1" data-path="05-comparison.html"><a href="#data-sources-1"><i class="fa fa-check"></i><b>A.1</b> Data sources</a></li>
<li class="chapter" data-level="A.2" data-path="shinyadvanced-interactive-graphics.html"><a href="shinyadvanced-interactive-graphics.html#visualization-resources"><i class="fa fa-check"></i><b>A.2</b> Visualization resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="B" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i><b>B</b> References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Interactive data visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Comparison" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Comparison–barchart, boxplots, synaplots</h1>
<p>Comparison as assessing overlapping distributions</p>
<div id="graph-considerations-for-communication-aggregation-abstraction-complexity" class="section level2">
<h2><span class="header-section-number">5.1</span> Graph considerations for communication: aggregation, abstraction, complexity</h2>
<div id="simple-bar-chart" class="section level3">
<h3><span class="header-section-number">5.1.1</span> Simple bar chart</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(ggforce)
<span class="kw">library</span>(ggthemes)
<span class="kw">library</span>(ggstance)

mtcars.df =<span class="st"> </span>mtcars
mtcars.df =<span class="st"> </span>mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">cyl =</span> <span class="kw">as.factor</span>(cyl))

s.mtcars.df =<span class="st"> </span>mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(cyl) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">m.hp =</span> <span class="kw">mean</span>(hp), <span class="dt">se.hp=</span> <span class="kw">sd</span>(hp)<span class="op">/</span><span class="kw">n</span>()<span class="op">^</span>.<span class="dv">5</span>)


<span class="kw">ggplot</span>(<span class="dt">data =</span> s.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> cyl, <span class="dt">y =</span> m.hp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>)</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> s.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> cyl, <span class="dt">y =</span> m.hp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>()</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## Change order of bars</span>
cyl.order &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;8&quot;</span>, <span class="st">&quot;6&quot;</span>, <span class="st">&quot;4&quot;</span>)
<span class="kw">ggplot</span>(<span class="dt">data =</span> s.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> cyl, <span class="dt">y =</span> m.hp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">limits =</span> cyl.order)</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-8-3.png" width="672" /></p>
</div>
<div id="bar-chart-with-error-bars" class="section level3">
<h3><span class="header-section-number">5.1.2</span> Bar chart with error bars</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> s.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> cyl, <span class="dt">y =</span> m.hp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_linerange</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span>m.hp<span class="dv">-2</span><span class="op">*</span>se.hp, <span class="dt">ymax=</span>m.hp<span class="op">+</span><span class="dv">2</span><span class="op">*</span>se.hp))</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> s.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> cyl, <span class="dt">y =</span> m.hp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_linerange</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span>m.hp<span class="dv">-2</span><span class="op">*</span>se.hp, <span class="dt">ymax=</span>m.hp<span class="op">+</span><span class="dv">2</span><span class="op">*</span>se.hp))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> mtcars.df, <span class="kw">aes</span>(cyl, hp), <span class="dt">position =</span> <span class="kw">position_jitter</span>(<span class="dt">width =</span> <span class="fl">.2</span>, <span class="dt">height =</span> <span class="dv">0</span>))</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>
</div>
<div id="dotplot-and-offset-range-plot" class="section level3">
<h3><span class="header-section-number">5.1.3</span> dotplot and offset range plot</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## Set seed and create data</span>
<span class="kw">set.seed</span>(<span class="dv">999</span>)
df =<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">A =</span> <span class="kw">runif</span>(<span class="dv">12</span>,<span class="dv">1</span>,<span class="dv">17</span>), <span class="dt">B =</span> <span class="kw">runif</span>(<span class="dv">12</span>, <span class="dv">2</span>, <span class="dv">8</span>))


l.df =<span class="st"> </span><span class="kw">gather</span>(df, condition, value)
l.df<span class="op">$</span>condition =<span class="st"> </span><span class="kw">as.factor</span>(l.df<span class="op">$</span>condition)
m.l.df =<span class="st"> </span>l.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(condition) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">m.value =</span> <span class="kw">mean</span>(value, <span class="dt">na.rm=</span><span class="ot">TRUE</span>), 
      <span class="dt">n=</span> <span class="kw">sum</span>(<span class="op">!</span><span class="kw">is.na</span>(value)), <span class="dt">sd=</span><span class="kw">sd</span>(value, <span class="dt">na.rm=</span><span class="ot">TRUE</span>), <span class="dt">sde=</span><span class="kw">sd</span>(value, <span class="dt">na.rm=</span><span class="ot">TRUE</span>)<span class="op">/</span>n<span class="op">^</span>.<span class="dv">5</span>,
       <span class="dt">ci=</span> <span class="dv">2</span><span class="op">*</span>sde)
m.l.df<span class="op">$</span>n.condition =<span class="st"> </span><span class="kw">as.numeric</span>(m.l.df<span class="op">$</span>condition)<span class="op">-</span>.<span class="dv">05</span> 


<span class="co">## Plot with offset for mean and error bar</span>
<span class="kw">ggplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_dotplot</span>(<span class="dt">data =</span> <span class="kw">filter</span>(l.df, condition<span class="op">==</span><span class="st">&quot;A&quot;</span><span class="op">|</span>condition<span class="op">==</span><span class="st">&quot;B&quot;</span>),
               <span class="kw">aes</span>(condition, value), <span class="dt">binaxis =</span> <span class="st">&quot;y&quot;</span>, <span class="dt">stackdir =</span> <span class="st">&quot;up&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_linerange</span>(<span class="dt">data =</span> <span class="kw">filter</span>(m.l.df, condition<span class="op">==</span><span class="st">&quot;A&quot;</span><span class="op">|</span>condition<span class="op">==</span><span class="st">&quot;B&quot;</span>), 
                 <span class="kw">aes</span>(n.condition, <span class="dt">ymin=</span>m.value<span class="op">-</span>ci, <span class="dt">ymax=</span>m.value<span class="op">+</span>ci), <span class="dt">color=</span><span class="st">&quot;grey50&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> <span class="kw">filter</span>(m.l.df, condition<span class="op">==</span><span class="st">&quot;A&quot;</span><span class="op">|</span>condition<span class="op">==</span><span class="st">&quot;B&quot;</span>), 
             <span class="kw">aes</span>(n.condition, <span class="dt">y=</span> m.value), <span class="dt">shape =</span> <span class="dv">21</span>, <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="dt">alpha=</span>.<span class="dv">7</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;&quot;</span>, <span class="dt">y=</span><span class="st">&quot;&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ylim</span>(<span class="dv">2</span>, <span class="dv">15</span>)</code></pre>
<pre><code>## `stat_bindot()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="statistical-significance-in-context" class="section level3">
<h3><span class="header-section-number">5.1.4</span> Statistical significance in context</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">as.factor</span>(cyl), <span class="dt">y =</span> hp)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">colour =</span> <span class="st">&quot;darkgrey&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">stat=</span><span class="st">&quot;summary&quot;</span>, <span class="dt">fun.y =</span> <span class="st">&quot;mean&quot;</span>, <span class="dt">size =</span> <span class="dv">6</span>, <span class="dt">shape =</span> <span class="dv">1</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_pointrange</span>(<span class="dt">stat=</span><span class="st">&quot;summary&quot;</span>, <span class="dt">fun.data =</span> <span class="st">&quot;mean_cl_boot&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_dotplot</span>(<span class="dt">binaxis =</span> <span class="st">&quot;y&quot;</span>, <span class="dt">stackdir =</span> <span class="st">&quot;center&quot;</span>, <span class="dt">binwidth =</span> <span class="dv">1</span>, 
               <span class="dt">dotsize =</span> <span class="dv">6</span>,<span class="dt">alpha =</span> <span class="fl">.3</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept =</span> <span class="kw">mean</span>(hp)), <span class="dt">size =</span> <span class="fl">1.2</span>) </code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
</div>
<div id="comparing-distributions-box-violyn-and-sina-plot" class="section level2">
<h2><span class="header-section-number">5.2</span> Comparing distributions, box, violyn, and sina plot</h2>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyr)

<span class="kw">ggplot</span>(<span class="dt">data =</span> s.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> cyl, <span class="dt">y =</span> m.hp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_linerange</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span>m.hp<span class="dv">-2</span><span class="op">*</span>se.hp, <span class="dt">ymax=</span>m.hp<span class="op">+</span><span class="dv">2</span><span class="op">*</span>se.hp))</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> s.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> cyl, <span class="dt">y =</span> m.hp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_linerange</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span>m.hp<span class="dv">-2</span><span class="op">*</span>se.hp, <span class="dt">ymax=</span>m.hp<span class="op">+</span><span class="dv">2</span><span class="op">*</span>se.hp))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> mtcars.df, <span class="kw">aes</span>(cyl, hp), <span class="dt">position =</span> <span class="kw">position_jitter</span>(<span class="dt">width =</span> <span class="fl">.2</span>, <span class="dt">height =</span> <span class="dv">0</span>))</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-12-2.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> s.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> cyl, <span class="dt">y =</span> m.hp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="dt">size =</span> <span class="dv">3</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_linerange</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span>m.hp<span class="dv">-2</span><span class="op">*</span>se.hp, <span class="dt">ymax=</span>m.hp<span class="op">+</span><span class="dv">2</span><span class="op">*</span>se.hp))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> mtcars.df, <span class="kw">aes</span>(cyl, hp), <span class="dt">position =</span> <span class="kw">position_jitter</span>(<span class="dt">width =</span> <span class="fl">.2</span>, <span class="dt">height =</span> <span class="dv">0</span>))</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-12-3.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## Sina plot</span>
<span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(<span class="kw">as.factor</span>(cyl), hwy))<span class="op">+</span>
<span class="st"> </span><span class="kw">geom_sina</span>(<span class="kw">aes</span>(<span class="dt">color =</span> <span class="kw">as.factor</span>(cyl)),<span class="dt">size =</span> <span class="dv">1</span>, <span class="dt">alpha =</span>.<span class="dv">5</span>) <span class="op">+</span>
<span class="st"> </span><span class="kw">geom_tufteboxplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;ggforce: sina plot with Tufte boxplot&quot;</span>)</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-12-4.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ggplot(s.mtcars.df, aes(m.hp, m.mpg, colour =as.factor(cyl)))+</span>
<span class="co"># geom_pointrangeh(aes(xmin= m.hp-se.hp, xmax = m.hp+se.hp))+</span>
<span class="co">#   geom_pointrange(aes(ymin= m.mpg-se.mpg, ymax = m.mpg+se.mpg))+</span>
<span class="co">#   labs(title = &quot;ggstance: horizontal point range&quot;)</span>

<span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(<span class="kw">as.factor</span>(cyl), hp))<span class="op">+</span>
<span class="kw">geom_boxplot</span>()</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-12-5.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(<span class="kw">as.factor</span>(cyl), hp))<span class="op">+</span>
<span class="kw">geom_violin</span>(<span class="dt">draw_quantiles =</span> <span class="kw">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>))</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-12-6.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> s.mtcars.df, <span class="kw">aes</span>(<span class="dt">x =</span> cyl, <span class="dt">y =</span> m.hp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_violin</span>(<span class="dt">data=</span> mtcars.df, <span class="kw">aes</span>(cyl, hp))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="dt">size =</span> <span class="dv">3</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_linerange</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span>m.hp<span class="dv">-2</span><span class="op">*</span>se.hp, <span class="dt">ymax=</span>m.hp<span class="op">+</span><span class="dv">2</span><span class="op">*</span>se.hp))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> mtcars.df, <span class="kw">aes</span>(cyl, hp), 
             <span class="dt">position =</span> <span class="kw">position_jitter</span>(<span class="dt">width =</span> <span class="fl">.2</span>, <span class="dt">height =</span> <span class="dv">0</span>), <span class="dt">alpha =</span>.<span class="dv">6</span>)</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-12-7.png" width="672" /></p>
<div id="compare-empirical-and-theoretical-distribution" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Compare empirical and theoretical distribution</h3>
<pre class="sourceCode r"><code class="sourceCode r">sum.mtcars.df =<span class="st"> </span>mtcars.df<span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(cyl) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">summarise</span>(<span class="dt">m.hp =</span> <span class="kw">mean</span>(hp), <span class="dt">sd.hp =</span> <span class="kw">sd</span>(hp))

<span class="kw">ggplot</span>(mtcars.df) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="kw">as.factor</span>(cyl), hp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_linerange</span>(<span class="dt">data =</span> sum.mtcars.df,
        <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">as.factor</span>(cyl), 
        <span class="dt">ymin =</span> m.hp <span class="op">+</span><span class="st"> </span><span class="kw">qnorm</span>(.<span class="dv">25</span>)<span class="op">*</span>sd.hp, <span class="dt">ymax =</span> m.hp <span class="op">+</span><span class="st"> </span><span class="kw">qnorm</span>(.<span class="dv">75</span>)<span class="op">*</span>sd.hp),
                 <span class="dt">size =</span> <span class="dv">5</span>, <span class="dt">alpha =</span> <span class="fl">.25</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> sum.mtcars.df,
         <span class="kw">aes</span>(<span class="kw">as.factor</span>(cyl), <span class="dt">y=</span> m.hp),<span class="dt">size =</span> <span class="dv">6</span>, <span class="dt">alpha =</span> <span class="fl">.33</span>)</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
<div id="tufte-inspired-minimal-bar-chart" class="section level3">
<h3><span class="header-section-number">5.2.2</span> Tufte-inspired minimal bar chart</h3>
<p><a href="http://motioninsocial.com/tufte/" class="uri">http://motioninsocial.com/tufte/</a></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#TODO replace with better dataset with for more columns</span>
<span class="kw">library</span>(ggthemes)
<span class="kw">ggplot</span>(mtcars.df, <span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">as.factor</span>(cyl))) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">width=</span><span class="fl">0.25</span>, <span class="dt">fill=</span><span class="st">&quot;gray&quot;</span>) <span class="op">+</span><span class="st">  </span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">breaks=</span><span class="kw">seq</span>(<span class="dv">2</span>, <span class="dv">12</span>, <span class="dv">2</span>)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept=</span><span class="kw">seq</span>(<span class="dv">2</span>, <span class="dv">12</span>, <span class="dv">2</span>), <span class="dt">colour=</span><span class="st">&quot;white&quot;</span>, <span class="dt">lwd=</span>.<span class="dv">5</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_tufte</span>(<span class="dt">base_size=</span><span class="dv">12</span>, <span class="dt">ticks=</span>F, <span class="dt">base_family =</span> <span class="st">&quot;Arial&quot;</span>) </code></pre>
<pre><code>## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead</code></pre>
<pre><code>## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead</code></pre>
<pre><code>## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead</code></pre>
<pre><code>## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead</code></pre>
<pre><code>## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead</code></pre>
<pre><code>## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead</code></pre>
<pre><code>## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call(C_textBounds,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead</code></pre>
<pre><code>## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead

## Warning in grid.Call.graphics(C_text,
## as.graphicsAnnot(x$label), x$x, x$y, : font family
## &#39;Arial&#39; not found, will use &#39;sans&#39; instead</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/tufte-barchart-1.png" width="672" /></p>
</div>
</div>
<div id="comparing-across-many-variables" class="section level2">
<h2><span class="header-section-number">5.3</span> Comparing across many variables</h2>
<div id="dot-plots-and-reordering" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Dot plots and reordering</h3>
<p>Comparing many mean values</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#TODO Change to mean sd catepilar plot</span>
mtcars.df =<span class="st"> </span>mtcars
mtcars.df<span class="op">$</span>name =<span class="st"> </span><span class="kw">rownames</span>(mtcars.df)
<span class="kw">ggplot</span>(<span class="dt">data =</span> mtcars.df, <span class="kw">aes</span>(<span class="kw">reorder</span>(name, hp), <span class="dt">y =</span> hp, <span class="dt">colour =</span> <span class="kw">as.factor</span>(cyl))) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">2</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept =</span> <span class="kw">mean</span>(hp)), <span class="dt">colour =</span> <span class="st">&quot;darkgrey&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_linerange</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span> <span class="op">-</span><span class="ot">Inf</span>, <span class="dt">ymax=</span> hp), <span class="dt">alpha =</span>.<span class="dv">5</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Cylinders&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Power (hp)&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_colour_brewer</span>(<span class="dt">name =</span> <span class="st">&quot;Number of </span><span class="ch">\n</span><span class="st">Cylinders&quot;</span>, <span class="dt">palette=</span><span class="st">&quot;Dark2&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="co"># http://colorbrewer2.org</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="kw">c</span>(.<span class="dv">75</span>, <span class="fl">.25</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_minimal</span>()</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/dotplot-1.png" width="672" /></p>
</div>
<div id="point-range-on-x-and-y" class="section level3">
<h3><span class="header-section-number">5.3.2</span> Point range on x and y</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## Point range on x and y</span>
<span class="co">#library(ggstance)</span>
s.mtcars.df =<span class="st"> </span>mtcars <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(cyl) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">m.hp =</span> <span class="kw">mean</span>(hp), <span class="dt">se.hp =</span> <span class="kw">sd</span>(hp)<span class="op">/</span><span class="kw">n</span>()<span class="op">^</span>.<span class="dv">5</span>,
            <span class="dt">m.mpg =</span> <span class="kw">mean</span>(mpg), <span class="dt">se.mpg =</span> <span class="kw">sd</span>(mpg)<span class="op">/</span><span class="kw">n</span>()<span class="op">^</span>.<span class="dv">5</span>)</code></pre>
</div>
<div id="tufte-boxplot-for-many-variables" class="section level3">
<h3><span class="header-section-number">5.3.3</span> Tufte boxplot for many variables</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggthemes)

<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="kw">factor</span>(cyl), mpg)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_tufteboxplot</span>(<span class="dt">median.type =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">whisker.type =</span> <span class="st">&#39;line&#39;</span>, <span class="dt">hoffset =</span> <span class="dv">0</span>, <span class="dt">width =</span> <span class="dv">4</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_rangeframe</span>() </code></pre>
<pre><code>## Warning: position_dodge requires non-overlapping x
## intervals</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/tufte-boxplot-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## Tufte boxplot</span>
<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="kw">as.factor</span>(cyl), mpg))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_tufteboxplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;ggthemes: Tufte boxplot&quot;</span>)</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/tufte-boxplot-2.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(disp, mpg, <span class="dt">color =</span> <span class="kw">as.factor</span>(cyl)))<span class="op">+</span>
<span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_rangeframe</span>(<span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">colour =</span> <span class="st">&quot;grey35&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;ggthemes: Tufte range frame&quot;</span>)</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/tufte-boxplot-3.png" width="672" /></p>
</div>
<div id="tufte-slopegraph" class="section level3">
<h3><span class="header-section-number">5.3.4</span> Tufte-inspired slope graphs</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(ggrepel)

<span class="co"># https://github.com/leeper/slopegraph</span>
cancer.df =<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/tufte-cancer-survival-data.csv&quot;</span>)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Type = col_character(),
##   `Year 5` = col_double(),
##   `Year 10` = col_double(),
##   `Year 15` = col_double(),
##   `Year 20` = col_double()
## )</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">l.cancer.df =<span class="st"> </span>cancer.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">gather</span>(<span class="dt">key =</span> year, <span class="dt">value =</span> rate, <span class="dv">2</span><span class="op">:</span><span class="dv">5</span>)

l.cancer.df<span class="op">$</span>year =<span class="st"> </span><span class="kw">factor</span>(l.cancer.df<span class="op">$</span>year, 
                          <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Year 5&quot;</span>, <span class="st">&quot;Year 10&quot;</span>, <span class="st">&quot;Year 15&quot;</span>, <span class="st">&quot;Year 20&quot;</span>))

<span class="kw">ggplot</span>(l.cancer.df, <span class="kw">aes</span>(year, rate, <span class="dt">group =</span> Type))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">colour =</span> <span class="st">&quot;grey70&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data =</span> l.cancer.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> &quot;Year 5&quot;</span>),
                  <span class="kw">aes</span>(<span class="dt">label =</span> Type), <span class="dt">nudge_x =</span> <span class="fl">-.35</span>, <span class="dt">direction =</span> <span class="st">&quot;y&quot;</span>,
                  <span class="dt">point.padding =</span> <span class="fl">.02</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data =</span> l.cancer.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(year<span class="op">==</span><span class="st">&quot;Year 20&quot;</span>),
                  <span class="kw">aes</span>(<span class="dt">label =</span> Type), <span class="dt">nudge_x =</span> <span class="fl">.35</span>,  <span class="dt">direction =</span> <span class="st">&quot;y&quot;</span>,
                  <span class="dt">point.padding =</span> <span class="fl">.02</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_label</span>(<span class="kw">aes</span>(<span class="dt">label =</span> rate), <span class="dt">colour =</span> <span class="st">&quot;grey55&quot;</span>, <span class="dt">label.size =</span> <span class="fl">.02</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_void</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="kw">rel</span>(.<span class="dv">85</span>)),
        <span class="dt">axis.text.y=</span><span class="kw">element_blank</span>())</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/tufte-slopegraph-1.png" width="672" /></p>
</div>
<div id="parallel-coordinate-plot-with-similar-items-highlighted" class="section level3">
<h3><span class="header-section-number">5.3.5</span> Parallel coordinate plot with similar items highlighted</h3>
<p>Scatterplots can show how items relate when there are only two dimensions, but many situations involve comparison between items based on 4-10 dimensions. Parallel coordinate plots can show how items relate on many dimenions by arraying the dimesions on the horizontal axis and the value for that dimension on the vertical axis. Each line represents an item and sets of lines that rise and fall in parallel indicate similar items. For comparisons that involve more dimensions it dimensionality reduction techniques, such as PCA or t-SNE can provide a meaningful two-dimensional representation that can be easily visualized with a scatter plot.</p>
<p>Creating a parallel coordinate plot involves five steps:
1. Transform the variables to make uniform comparisons, such as greater values have similar meaning
2. Select variables or dimensions of interest and convert to long format–one column for the variable names and one for the values
3. Scale the items for each variable–subtract the mean value and divide by the standard deviation
4. Highlight one or more items
6. Order the variables in a meaningful fashion, such as by the standard deviation</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## Highlight closest pair of items multidimensional space ##</span>
<span class="kw">library</span>(tidyverse)
mtcars.df =<span class="st"> </span>mtcars
mtcars.df<span class="op">$</span>name =<span class="st"> </span><span class="kw">row.names</span>(mtcars.df)

<span class="co">## Transform variables </span>
mtcars.df =<span class="st"> </span>mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">gpm =</span> <span class="dv">1</span><span class="op">/</span>mpg) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">speed =</span> <span class="dv">1</span><span class="op">/</span>qsec) 

<span class="co">## Select variables </span>
mtcars.df =<span class="st"> </span>mtcars.df <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(cyl<span class="op">:</span>carb, gpm, speed, name)

<span class="co">## Convert to long format</span>
l.mtcars.df =<span class="st"> </span>mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">gather</span>(<span class="dt">key =</span> var, <span class="dt">value =</span> value, <span class="op">-</span>name)

<span class="co">##  Scale values</span>
l.scaled.mtcars.df =<span class="st"> </span>l.mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(var, <span class="dt">s.value =</span> <span class="kw">scale</span>(value)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ungroup</span>()

<span class="co">## Identify similar items</span>
target =<span class="st"> &quot;Datsun 710&quot;</span> <span class="co"># specifies the row number of interest</span>
l.scaled.mtcars.df<span class="op">$</span>target_s.value =<span class="st"> </span>l.scaled.mtcars.df<span class="op">$</span>s.value[l.scaled.mtcars.df<span class="op">$</span>name<span class="op">==</span>target]

l.scaled.mtcars.df =<span class="st"> </span>l.scaled.mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(name) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">distance =</span> (<span class="kw">sum</span>((s.value<span class="op">-</span>target_s.value)<span class="op">^</span><span class="dv">2</span>))<span class="op">^</span><span class="fl">0.5</span>)


<span class="co">##  Scale items</span>
scaled_mtcars.df =<span class="st"> </span>mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(cyl<span class="op">:</span>speed), scale)

<span class="co">## Highlight similar items</span>
dist.df =<span class="st"> </span><span class="kw">as.matrix</span>(<span class="kw">dist</span>(scaled_mtcars.df, <span class="dt">upper =</span> <span class="ot">TRUE</span>, <span class="dt">diag =</span> <span class="ot">FALSE</span>))  <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as.data.frame</span>()

<span class="co">## Find the closest vehicle to target vehicle</span>
target =<span class="st"> </span><span class="dv">18</span> <span class="co"># specifies the row number of interest</span>
closest =<span class="st"> </span><span class="kw">which</span>(<span class="kw">min</span>(dist.df[dist.df[, target]<span class="op">&gt;</span><span class="dv">0</span>, target])<span class="op">==</span>dist.df[, target])
mtcars.df<span class="op">$</span>name[target]</code></pre>
<pre><code>## [1] &quot;Fiat 128&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">mtcars.df<span class="op">$</span>name[closest]</code></pre>
<pre><code>## [1] &quot;Toyota Corolla&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## Convert to long format</span>
l.scaled_mtcars.df =<span class="st"> </span>scaled_mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">gather</span>(<span class="dt">key =</span> var, <span class="dt">value =</span> value, <span class="op">-</span>name)


<span class="co">## Select pair to highlight</span>
pair.df =<span class="st"> </span>l.scaled_mtcars.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(name<span class="op">==</span>mtcars.df<span class="op">$</span>name[target]<span class="op">|</span>name<span class="op">==</span>mtcars.df<span class="op">$</span>name[closest])

<span class="co">## Order variables by the standard deviation</span>

<span class="kw">library</span>(ggrepel)
<span class="kw">ggplot</span>(l.scaled_mtcars.df, <span class="kw">aes</span>(<span class="kw">reorder</span>(var, value, sd), value, <span class="dt">group =</span> name)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">alpha =</span> <span class="fl">.3</span>, <span class="dt">size =</span> <span class="fl">.2</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">data =</span> pair.df, <span class="dt">colour =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">size =</span> <span class="fl">.6</span>, <span class="dt">alpha =</span> <span class="fl">.6</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_label_repel</span>(<span class="dt">data =</span> pair.df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(var<span class="op">==</span><span class="st">&quot;speed&quot;</span>), 
                   <span class="kw">aes</span>(<span class="st">&quot;speed&quot;</span>, value, <span class="dt">label =</span> name), <span class="dt">nudge_y =</span> <span class="fl">-.75</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_minimal</span>()</code></pre>
<p><img src="visualizationwithggplot_files/figure-html/parallel-coordinate-1.png" width="672" /></p>
</div>
</div>
<div id="gliphs-chernof-face-and-radar-plots" class="section level2">
<h2><span class="header-section-number">5.4</span> Gliphs: Chernof face and radar plots</h2>
<p>Show patterns and outliers not precise comparisons</p>


</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Distribution.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Proportion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jdlee/interactive-data-visualization/blob/master/05-comparison.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["visualizationwithggplot.pdf", "visualizationwithggplot.epub"],
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
